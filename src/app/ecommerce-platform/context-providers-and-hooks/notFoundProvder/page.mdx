import BackToTop from "@/components/BackToTop";

# Creating the Not Found Provider

## Table of Contents

## Introduction

The Not Found Provider is a crucial component of our e-commerce platform, designed to handle scenarios where users attempt to access resources that do not exist. This provider will ensure that users receive a friendly and informative message when they encounter a 404 error, while also maintaining SEO best practices.

## The `import` Statements

```typescript
// src/app/context/NotFoundContext.tsx
"use client";

import { NotFoundContextType } from "@/lib/types/types";
import { createContext, JSX, ReactNode, useContext, useState } from "react";
```

##### Explanation of the `import` Statements

- `createContext`, `useContext`, and `useState` are React hooks used to create and manage context state.
  - `JSX` and `ReactNode` are types from React that help define the structure of our components.
  - `createContext` is used to create a new context for the Not Found Provider.

## Using `createContext`

```typescript
// src/app/context/NotFoundContext.tsx
/**
 * Context for managing the state of a "not found" condition.
 *
 * This context can be used to share and update the "not found" status across different components in the application.
 * It is initialized with an `undefined` value, and consumers should check for this value to determine if the context has been properly initialized.
 */
const NotFoundContext = createContext<NotFoundContextType | undefined>(
  undefined
);
```

## NotFoundProvider

```typescript
// src/app/context/NotFoundContext.tsx

/**
 * NotFoundProvider component that provides a context for handling "not found" state.
 *
 * @param {Object} props - The props object.
 * @param {ReactNode} props.children - The child components that will have access to the context.
 *
 * @returns {JSX.Element} The NotFoundContext.Provider component with the provided context value.
 */
export const NotFoundProvider = ({
  children,
}: {
  children: ReactNode;
}): JSX.Element => {
  const [isNotFound, setIsNotFound] = useState(false);

  return (
    <NotFoundContext.Provider
      value={{ isNotFound, setNotFound: setIsNotFound }}
    >
      {children}
    </NotFoundContext.Provider>
  );
};
```

## `useNotFound` Hook

```typescript
/**
 * Custom hook to access the NotFoundContext.
 *
 * This hook provides the context value from NotFoundContext. It must be used within a NotFoundProvider,
 * otherwise it will throw an error.
 *
 * @throws {Error} If the hook is used outside of a NotFoundProvider.
 *
 * @returns {any} The context value from NotFoundContext.
 */
export const useNotFound = (): any => {
  const context = useContext(NotFoundContext);
  if (!context) {
    throw new Error("useNotFound must be used within a NotFoundProvider");
  }
  return context;
};
```

## Updating the `providers.tsx` File

Now that we have created the NotFoundProvider and the `useNotFound` hook, we can use it in our application. The provider should be wrapped around the components that need access to the not found state.

The updated `providers.tsx` file will look like this:

```tsx
// src/app/providers.tsx
"use client";

import { ThemeProvider } from "next-themes";
import { JSX, ReactNode } from "react";
import { NotFoundProvider } from "./context/NotFoundContext";

/**
 * Providers component that wraps its children with a ThemeProvider.
 *
 * @param {Object} props - The props object.
 * @param {ReactNode} props.children - The child components to be wrapped by the ThemeProvider.
 *
 * @returns {JSX.Element} The ThemeProvider component wrapping the children.
 */
export function Providers({ children }: { children: ReactNode }): JSX.Element {
  return (
    <ThemeProvider attribute="class" defaultTheme="light" enableSystem={true}>
      {/* Wrap children with NotFoundProvider to provide not found context */}
      <NotFoundProvider>{children}</NotFoundProvider>
    </ThemeProvider>
  );
}
```

## Next Steps

Head over to [Creating the Authentication Provider](/ecommerce-platform/context-providers-and-hooks/authProvider) to begin implementing the authentication provider. This will set the foundation for user management and secure access to the platform, establishing the security patterns and architectural principles that will be used throughout all subsequent provider implementations.

The Authentication Provider will introduce you to:

- React Context API best practices
- TypeScript implementation patterns
- Security considerations for e-commerce applications
- Testing strategies for complex provider logic
- Integration patterns with external services

Each subsequent provider will build upon these foundational concepts while introducing new patterns and techniques specific to their domain of responsibility.

<BackToTop />
