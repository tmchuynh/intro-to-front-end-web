import BackToTop from "@/components/BackToTop";
import Button from "@/components/Button";
import { FaChevronRight } from "react-icons/fa";

# Swagger UI

## Table of Contents

## Introduction

[Swagger UI](https://swagger.io/tools/swagger-ui/) is a powerful, open-source tool that automatically generates beautiful, interactive API documentation from OpenAPI (formerly Swagger) specifications. As one of the most widely adopted API documentation solutions in the industry, Swagger UI transforms static API specifications into dynamic, explorable interfaces that allow developers to visualize, understand, and test APIs directly from their browser.

Originally developed by SmartBear Software as part of the Swagger ecosystem, Swagger UI has become the de facto standard for API documentation across organizations of all sizes. It bridges the gap between API providers and consumers by creating living documentation that stays synchronized with API changes and provides an intuitive interface for API exploration.

### The Swagger Ecosystem

Swagger UI is part of a ecosystem of API development tools:

- OpenAPI Specification: The industry-standard format for describing REST APIs
- Swagger Editor: A web-based editor for designing OpenAPI specifications
- Swagger Codegen: Generates client libraries and server stubs from OpenAPI specs
- Swagger UI: Creates interactive documentation from OpenAPI specifications
- SwaggerHub: A cloud-based platform for API design, documentation, and collaboration

### Why Choose Swagger UI?

Swagger UI addresses critical challenges in API development and consumption:

1. **Documentation Drift**: Traditional documentation often becomes outdated as APIs evolve. Swagger UI generates documentation directly from the API specification, ensuring accuracy.

2. **Developer Experience**: Interactive documentation allows developers to explore and test APIs without writing code, significantly reducing time-to-first-API-call.

3. **Team Collaboration**: Provides a shared understanding of API functionality across development, testing, and product teams.

4. **Standardization**: Built on the OpenAPI Specification, ensuring compatibility with a vast ecosystem of tools and services.

#### Key Features

| Feature                          | Description                                                                    | Benefits                                            |
| -------------------------------- | ------------------------------------------------------------------------------ | --------------------------------------------------- |
| **Interactive Documentation**    | Automatically generates live, interactive API documentation from OpenAPI specs | Reduces documentation maintenance, ensures accuracy |
| **Try-It-Out Functionality**     | Allows users to test API endpoints directly from the documentation             | Faster API adoption, reduced integration time       |
| **OpenAPI 3.x & 2.0 Support**    | Full compatibility with OpenAPI Specification versions 2.0 and 3.x             | Future-proof, industry-standard compliance          |
| **Authentication Support**       | Built-in support for API Key, OAuth 2.0, Basic Auth, and Bearer tokens         | Secure API testing in production environments       |
| **Request/Response Validation**  | Real-time validation of requests and responses against the schema              | Improved API quality, faster debugging              |
| **Code Generation**              | Generates client SDKs and server stubs in multiple languages                   | Accelerated development, consistent implementations |
| **Customizable Themes**          | Extensive customization options for branding and styling                       | Brand consistency, improved user experience         |
| **Multi-Format Support**         | Supports JSON and YAML OpenAPI specifications                                  | Flexibility in specification format choice          |
| **Cross-Platform Compatibility** | Runs on any platform with a modern web browser                                 | Universal accessibility, no platform lock-in        |
| **Plugin Architecture**          | Extensible through plugins and custom configurations                           | Enhanced functionality, tailored user experience    |
| **Responsive Design**            | Mobile-friendly interface that works on all devices                            | Accessibility across different screen sizes         |
| **Deep Linking**                 | Direct links to specific operations and schemas                                | Improved navigation, shareable documentation        |

### Core Capabilities

#### Documentation Generation

- Automatic Generation: Creates documentation from OpenAPI specifications without manual intervention
- Real-Time Updates: Documentation updates automatically when the specification changes
- Rich Media Support: Includes images, examples, and formatted text in documentation
- Schema Visualization: Interactive display of request/response schemas with expandable object structures

##### API Testing & Exploration

- Live API Testing: Execute real API calls directly from the documentation interface
- Parameter Input: User-friendly forms for entering path parameters, query strings, headers, and request bodies
- Response Inspection: Detailed view of response headers, status codes, and formatted response bodies
- cURL Generation: Automatic generation of cURL commands for terminal-based testing

##### Developer Experience

- Intuitive Interface: Clean, organized layout that makes API exploration natural and efficient
- Search Functionality: Quick search across endpoints, parameters, and descriptions
- Syntax Highlighting: Color-coded JSON/XML responses for better readability
- Error Handling: Clear error messages and validation feedback

##### Integration & Deployment

- Hosting Flexibility: Can be hosted as a standalone application or embedded in existing sites
- CDN Support: Available through content delivery networks for fast global access
- Container Support: Docker images available for easy containerized deployment
- CI/CD Integration: Seamless integration with continuous integration and deployment pipelines

<BackToTop />

## Getting Started

Swagger UI offers multiple deployment options to suit different use cases, from simple local development to enterprise-scale implementations. This section covers installation methods, configuration options, and initial setup procedures.

### Installation Options

#### 1. CDN Deployment (Quickest Start)

The fastest way to get Swagger UI running is through CDN links:

```html
<!-- File: public/index.html -->
<!DOCTYPE html>
<html>
  <head>
    <title>My API Documentation</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://unpkg.com/swagger-ui-dist@5.10.5/swagger-ui.css"
    />
    <style>
      html {
        box-sizing: border-box;
        overflow: -moz-scrollbars-vertical;
        overflow-y: scroll;
      }
      *,
      *:before,
      *:after {
        box-sizing: inherit;
      }
      body {
        margin: 0;
        background: #fafafa;
      }
    </style>
  </head>
  <body>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist@5.10.5/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@5.10.5/swagger-ui-standalone-preset.js"></script>
    <script>
      window.onload = function () {
        const ui = SwaggerUIBundle({
          url: "https://petstore.swagger.io/v2/swagger.json", // Your OpenAPI spec URL
          dom_id: "#swagger-ui",
          deepLinking: true,
          presets: [SwaggerUIBundle.presets.apis, SwaggerUIStandalonePreset],
          plugins: [SwaggerUIBundle.plugins.DownloadUrl],
          layout: "StandaloneLayout",
        });
      };
    </script>
  </body>
</html>
```

##### 2. NPM Installation

For Node.js projects and modern build tools:

```bash
## File: Package.json Install Commands
## Install via NPM
npm install swagger-ui-dist

## Install for React Projects
npm install swagger-ui-react
```

### React Integration Example

```jsx
// File: src/components/ApiDocs.jsx
import SwaggerUI from "swagger-ui-react";
import "swagger-ui-react/swagger-ui.css";

function MyApiDocs() {
  return (
    <SwaggerUI
      url="https://api.example.com/openapi.json"
      docExpansion="list"
      deepLinking={true}
      filter={true}
      displayRequestDuration={true}
    />
  );
}
```

#### 3. Docker Deployment

For containerized environments:

```bash
## File: Docker-compose.yml or Terminal Commands
## Pull and Run Official Swagger UI Docker Image
docker run -p 8080:8080 -e SWAGGER_JSON=/openapi.json -v $(pwd)/openapi.json:/openapi.json swaggerapi/swagger-ui

## Custom Dockerfile Example
FROM swaggerapi/swagger-ui:latest
COPY openapi.json /usr/share/nginx/html/
ENV SWAGGER_JSON=/usr/share/nginx/html/openapi.json
EXPOSE 8080
```

### 4. Manual Download and Setup

For complete control over the deployment:

1. Download the latest release from [GitHub](https://github.com/swagger-api/swagger-ui/releases)
2. Extract the `dist` folder contents to your web server
3. Modify `index.html` to point to your OpenAPI specification
4. Configure authentication and customization options

### Pricing & Plans

| Plan                        | Price          | Features                                                                | Best For                                                 |
| --------------------------- | -------------- | ----------------------------------------------------------------------- | -------------------------------------------------------- |
| **Open Source**             | Free           | Core Swagger UI functionality, Self-hosted, Community support           | Individual developers, Small teams, Open source projects |
| **SwaggerHub Basic**        | $36/user/month | Cloud hosting, Collaboration tools, Version control, API mocking        | Small to medium teams, Professional API development      |
| **SwaggerHub Professional** | $75/user/month | Advanced collaboration, Private repositories, Custom domains, Analytics | Growing teams, Enterprise features                       |
| **SwaggerHub Enterprise**   | Custom pricing | On-premise deployment, SSO integration, Advanced security, SLA support  | Large organizations, Enterprise compliance               |

##### NOTE

> The open-source Swagger UI is completely free and includes all core documentation and testing features. SwaggerHub provides additional collaboration and hosting services.

### Prerequisites and Requirements

#### System Requirements

- Web Server: Any HTTP server (Apache, Nginx, IIS, or development servers)
- Browsers: Modern browsers supporting ES5+ (Chrome 45+, Firefox 38+, Safari 9+, Edge 12+)
- OpenAPI Specification: Valid OpenAPI 2.0 or 3.x specification file
- Network: Internet connectivity for CDN resources (unless self-hosted)

##### Development Environment Setup

- Node.js: Version 14+ for npm-based installations
- Build Tools: Webpack, Rollup, or similar for custom builds
- Development Server: Live reload capability recommended for spec development

### Initial Configuration

#### Basic Configuration Options

```javascript
// File: src/js/swagger-config.js
const ui = SwaggerUIBundle({
  // Required
  url: "path/to/your/openapi.json", // OpenAPI spec URL
  dom_id: "#swagger-ui", // DOM element ID

  // Common Options
  deepLinking: true, // Enable deep linking for sharing
  presets: [
    // UI presets
    SwaggerUIBundle.presets.apis,
    SwaggerUIStandalonePreset,
  ],
  layout: "StandaloneLayout", // Layout type

  // Display Options
  docExpansion: "list", // none, list, or full
  operationsSorter: "alpha", // Sort operations alphabetically
  filter: true, // Enable filtering
  showExtensions: true, // Show OpenAPI extensions
  showCommonExtensions: true, // Show common extensions

  // Request Options
  requestInterceptor: (request) => {
    // Modify requests
    request.headers["Custom-Header"] = "value";
    return request;
  },
  responseInterceptor: (response) => {
    // Handle responses
    console.log("Response received:", response);
    return response;
  },

  // Authentication
  persistAuthorization: true, // Persist auth across sessions

  // Customization
  customCss: '.swagger-ui { font-family: "Roboto"; }',
  customCssUrl: "/custom-styles.css",
});
```

##### Environment-Specific Configurations

###### Development Environment

```javascript
// File: src/js/development-config.js
{
  url: 'http://localhost:3001/api-docs',
  tryItOutEnabled: true,
  requestInterceptor: (req) => {
    req.headers['Development-Mode'] = 'true';
    return req;
  }
}
```

###### Production Environment

```javascript
// File: src/js/production-config.js
{
  url: 'https://api.production.com/openapi.json',
  supportedSubmitMethods: ['get', 'post', 'put', 'delete'],
  onComplete: () => {
    console.log('API documentation loaded');
  },
  requestInterceptor: (req) => {
    // Add production headers
    req.headers['X-API-Version'] = '2.0';
    return req;
  }
}
```

<BackToTop />

### SwaggerHub: Enterprise API Management Platform

[SwaggerHub](https://swagger.io/tools/swaggerhub/) is SmartBear's API design and documentation platform that extends Swagger UI with enterprise-grade features for team collaboration, API lifecycle management, and hosted documentation.

#### SwaggerHub VS. Open Source Swagger UI

| Feature                      | Open Source Swagger UI | SwaggerHub                        |
| ---------------------------- | ---------------------- | --------------------------------- |
| **Documentation Generation** | Full support           | Enhanced with hosting             |
| **API Testing**              | Local testing          | Cloud-based testing + mocking     |
| **Team Collaboration**       | No built-in support    | Real-time collaboration           |
| **Version Control**          | Manual management      | Built-in Git integration          |
| **Hosted Documentation**     | Self-hosted only       | Cloud hosting with custom domains |
| **API Mocking**              | No mocking             | Automatic mock servers            |
| **Analytics & Monitoring**   | No analytics           | Comprehensive API analytics       |
| **Enterprise Security**      | Basic                  | SSO, RBAC, audit logs             |
| **Code Generation**          | Manual process         | Automated with CI/CD              |
| **Support**                  | Community              | Professional support with SLA     |

##### Key SwaggerHub Features

###### Design & Development

- Collaborative Editor: Real-time collaborative editing with conflict resolution
- Domain Management: Reusable components across multiple API specifications
- Standardization: Enforce API design standards and governance policies
- Auto-Generation: Generate OpenAPI specs from existing APIs

###### Testing & Validation

- Auto-Mocking: Instantly create mock servers from OpenAPI specifications
- Virtualization: Simulate API responses for testing and development
- Contract Testing: Validate API implementations against specifications
- Integration Testing: Test API workflows and dependencies

###### Documentation & Hosting

- Hosted Documentation: Cloud-hosted documentation with 99.9% uptime SLA
- Custom Domains: Brand your documentation with custom domain names
- Access Control: Fine-grained permissions and access management
- Responsive Design: Mobile-optimized documentation experience

###### Integration & Automation

- CI/CD Integration: Seamless integration with Jenkins, GitLab, GitHub Actions
- Version Control: Git-based version control with branching and merging
- Code Generation: Automated client SDK and server stub generation
- Webhook Support: Real-time notifications and integrations

##### SwaggerHub Pricing Details

###### Basic Plan ($36/user/month)

- Up to 10 private APIs
- 5 GB storage
- Basic collaboration features
- Community support
- Standard integrations

###### Professional Plan ($75/user/month)

- Unlimited private APIs
- 50 GB storage
- Advanced collaboration
- Priority support
- Custom domains
- Advanced integrations
- API analytics

###### Enterprise Plan (Custom Pricing)

- Unlimited everything
- On-premise deployment options
- SSO and SAML integration
- Advanced security features
- Dedicated support manager
- Custom SLA agreements
- Advanced governance tools

##### Migration from Open Source to SwaggerHub

###### Step 1: Import Existing Specifications

```bash
## File: Terminal or CI/CD Script
## Export from Local Swagger UI
curl -o my-api.json http://localhost:8080/api-docs

## Import to SwaggerHub via CLI
swaggerhub api:create my-org/my-api/1.0.0 --file my-api.json
```

### Step 2: Configure Team Access

- Set up organization and team structures
- Configure role-based access controls
- Invite team members and assign permissions

#### Step 3: Enable CI/CD Integration

```yaml
## File: .github/workflows/swaggerhub.yml
## GitHub Actions Example
name: SwaggerHub Integration
on:
  push:
    branches: [main]
jobs:
  sync-swagger:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: SwaggerHub Upload
        uses: smartbear/swaggerhub-cli@v1
        with:
          command: api:create
          args: my-org/my-api/1.0.0 --file ./openapi.yaml
```

<BackToTop />

## Using Swagger UI

Swagger UI transforms OpenAPI specifications into intuitive, interactive documentation that serves both as reference material and a testing environment. This section covers the complete user experience from basic navigation to advanced testing scenarios.

### Interface Overview

#### Main Navigation Components

##### Header Section

- API Title & Version: Displays the API name and version from the OpenAPI spec
- Base URL Selector: Dropdown to switch between different server environments
- Authorization Button: Quick access to configure authentication credentials
- Download Links: Access to original OpenAPI specification files

**Sidebar Navigation** (when enabled)

- Operation Groups: APIs organized by tags for logical grouping
- Search Functionality: Real-time search across endpoints and descriptions
- Filter Controls: Show/hide operations based on HTTP methods

###### Main Content Area

- Operation Details: Expandable sections for each API endpoint
- Schema Definitions: Reusable data models and components
- Try-It-Out Interface: Interactive forms for API testing

### Exploring API Endpoints

#### Understanding Operation Display

Each API operation in Swagger UI provides information:

##### Operation Summary

```yaml
## File: Api-spec/openapi.yaml
## Example OpenAPI Operation
/users/{userId}:
  get:
    tags: ["Users"]
    summary: "Retrieve user information"
    description: "Fetches detailed information about a specific user by their unique identifier"
    operationId: "getUserById"
    parameters:
      - name: userId
        in: path
        required: true
        schema:
          type: integer
          format: int64
```

### Visual Elements in Swagger UI

- HTTP Method Badge: Color-coded badges (GET=blue, POST=green, PUT=orange, DELETE=red)
- Endpoint Path: Full URL path with parameter placeholders highlighted
- Operation Summary: Brief description of what the operation does
- Tags: Logical groupings for organizing related operations

#### Parameter Types and Input

##### Path Parameters

- Required parameters embedded in the URL path
- Automatically validated based on schema definition
- Visual highlighting in the endpoint path

###### Query Parameters

- Optional or required parameters appended to the URL
- Support for arrays, objects, and primitive types
- Built-in validation and format checking

###### Header Parameters

- Custom headers required by the API
- Common headers like `Authorization` automatically recognized
- Support for complex header structures

###### Request Body Parameters

- Interactive JSON/XML editors with syntax highlighting
- Schema-based validation and auto-completion
- Support for file uploads and multipart data

##### Schema Exploration

###### Model Definitions

Swagger UI provides expandable views of data schemas:

```json
// File: examples/user-schema.json
{
  "User": {
    "type": "object",
    "required": ["id", "email"],
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64",
        "example": 12345
      },
      "email": {
        "type": "string",
        "format": "email",
        "example": "user@example.com"
      },
      "profile": {
        "$ref": "#/components/schemas/UserProfile"
      }
    }
  }
}
```

###### Interactive Schema Features

- Expandable Properties: Click to expand nested objects and arrays
- Type Information: Data types, formats, and constraints clearly displayed
- Example Values: Sample data to understand expected formats
- Required Fields: Visual indicators for mandatory properties
  <BackToTop />

### API Testing with Try-It-Out

#### Basic Testing Workflow

1. **Select Operation**: Click on any API endpoint to expand its details
2. **Enable Testing**: Click the "Try it out" button to activate interactive mode
3. **Configure Parameters**: Fill in required and optional parameters
4. **Set Authentication**: Configure credentials if required
5. **Execute Request**: Click "Execute" to send the API request
6. **Review Response**: Analyze the response data, headers, and status

##### Advanced Testing Scenarios

###### Authentication Testing

```javascript
// File: src/js/oauth-config.js
// OAuth 2.0 Configuration Example
{
  "securitySchemes": {
    "oauth2": {
      "type": "oauth2",
      "flows": {
        "authorizationCode": {
          "authorizationUrl": "https://api.example.com/oauth/authorize",
          "tokenUrl": "https://api.example.com/oauth/token",
          "scopes": {
            "read": "Read access",
            "write": "Write access"
          }
        }
      }
    }
  }
}
```

###### Complex Request Bodies

Testing APIs with complex nested objects:

```json
// File: examples/complex-request.json
{
  "user": {
    "personalInfo": {
      "firstName": "John",
      "lastName": "Doe",
      "dateOfBirth": "1990-01-01"
    },
    "contactInfo": {
      "email": "john.doe@example.com",
      "phone": "+1-555-0123",
      "address": {
        "street": "123 Main St",
        "city": "Anytown",
        "state": "CA",
        "zipCode": "12345"
      }
    },
    "preferences": {
      "notifications": true,
      "theme": "dark",
      "language": "en-US"
    }
  }
}
```

###### File Upload Testing

For endpoints that accept file uploads:

```yaml
## File: Api-spec/file-upload.yaml
requestBody:
  content:
    multipart/form-data:
      schema:
        type: object
        properties:
          file:
            type: string
            format: binary
          metadata:
            type: object
            properties:
              description:
                type: string
              tags:
                type: array
                items:
                  type: string
```

### Response Analysis

#### Response Components in Swagger UI

1. **Status Code**: HTTP status with color coding (2xx=green, 4xx=orange, 5xx=red)
2. **Response Headers**: All headers returned by the server
3. **Response Body**: Formatted JSON/XML with syntax highlighting
4. **Response Time**: Duration of the API call
5. **Response Size**: Size of the response payload

##### cURL Command Generation

Swagger UI automatically generates cURL commands for every test:

```bash
## File: Examples/curl-command.sh
curl -X POST "https://api.example.com/v1/users" \
  -H "accept: application/json" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -d '{
    "firstName": "John",
    "lastName": "Doe",
    "email": "john.doe@example.com"
  }'
```

### Error Handling and Debugging

Common error scenarios and solutions:

- 400 Bad Request: Check parameter validation and required fields
- 401 Unauthorized: Verify authentication credentials
- 403 Forbidden: Check permissions and authorization scopes
- 404 Not Found: Verify endpoint URL and path parameters
- 422 Unprocessable Entity: Validate request body schema compliance
- 500 Internal Server Error: Server-side issues (check with API provider)

### Advanced Features

#### Deep Linking and Sharing

Swagger UI supports deep linking to specific operations:

```javascript
// File: src/js/deep-linking.js
// Configuration for deep linking
const ui = SwaggerUIBundle({
  url: "openapi.json",
  dom_id: "#swagger-ui",
  deepLinking: true,
  // Direct link to operation: #/Users/getUserById
  onComplete: () => {
    // Automatically expand specific operation
    if (window.location.hash) {
      const hash = window.location.hash.slice(1);
      ui.preauthorizeBasic("basic-auth", "username", "password");
    }
  },
});
```

##### Request/Response Interceptors

Customize behavior with interceptors:

```javascript
// File: src/js/interceptors.js
const ui = SwaggerUIBundle({
  requestInterceptor: (request) => {
    // Add custom headers
    request.headers["X-Request-ID"] = generateUUID();
    request.headers["X-Timestamp"] = new Date().toISOString();

    // Log requests for debugging
    console.log("Outgoing request:", request);

    return request;
  },
  responseInterceptor: (response) => {
    // Handle global error responses
    if (response.status === 401) {
      // Redirect to login
      window.location.href = "/login";
    }

    // Log responses for monitoring
    console.log("Incoming response:", response);

    return response;
  },
});
```

##### Plugin System

Extend functionality with custom plugins:

```javascript
// File: src/js/custom-plugin.js
const MyCustomPlugin = () => {
  return {
    components: {
      RequestBody: (Original, system) => (props) => {
        return React.createElement(
          "div",
          {
            className: "custom-request-body",
          },
          [
            React.createElement("h4", {}, "Custom Request Body"),
            React.createElement(Original, props),
          ],
        );
      },
    },
  };
};

const ui = SwaggerUIBundle({
  plugins: [SwaggerUIBundle.plugins.DownloadUrl, MyCustomPlugin],
});
```

<BackToTop />

## Customization and Integration

Swagger UI's flexibility allows for extensive customization to match brand requirements and integrate seamlessly with existing systems. This section covers theming, configuration, and integration patterns.

### Theme Customization

#### CSS Customization

##### Basic Theme Override

```css title="custom-swagger-theme.css"
/* File: assets/css/custom-swagger-theme.css */
/* Custom CSS for Swagger UI */
.swagger-ui {
  font-family: "Roboto", "Helvetica Neue", Arial, sans-serif;
}

/* Header customization */
.swagger-ui .topbar {
  background-color: #1976d2;
  border-bottom: 3px solid #0d47a1;
}

.swagger-ui .topbar .download-url-wrapper {
  display: none; /* Hide download section */
}

/* Operation method badges */
.swagger-ui .opblock.opblock-get .opblock-summary-method {
  background: #61affe;
}

.swagger-ui .opblock.opblock-post .opblock-summary-method {
  background: #49cc90;
}

.swagger-ui .opblock.opblock-put .opblock-summary-method {
  background: #fca130;
}

.swagger-ui .opblock.opblock-delete .opblock-summary-method {
  background: #f93e3e;
}

/* Try it out button styling */
.swagger-ui .btn.try-out__btn {
  background: #1976d2;
  color: white;
  border: none;
  border-radius: 4px;
}

/* Response section styling */
.swagger-ui .responses-wrapper {
  border: 1px solid #d4d4d4;
  border-radius: 4px;
  background: #fafafa;
}
```

###### Dark Theme Implementation

```css
/* File: assets/css/dark-theme.css */
/* Dark theme for Swagger UI */
.swagger-ui.dark-theme {
  background-color: #1a1a1a;
  color: #e0e0e0;
}

.swagger-ui.dark-theme .scheme-container {
  background: #2d2d2d;
  border: 1px solid #404040;
}

.swagger-ui.dark-theme .opblock {
  background: #2d2d2d;
  border: 1px solid #404040;
}

.swagger-ui.dark-theme .opblock-summary {
  background: #363636;
}

.swagger-ui.dark-theme .parameter__name {
  color: #ffffff;
}

.swagger-ui.dark-theme .response-col_description {
  background: #2d2d2d;
}
```

<BackToTop />

##### JavaScript Theme Configuration

```javascript
// File: src/js/theme-config.js
const ui = SwaggerUIBundle({
  url: "openapi.json",
  dom_id: "#swagger-ui",

  // Custom styling
  customCss: `
    .swagger-ui .topbar { display: none }
    .swagger-ui .info { margin: 50px 0 }
    .swagger-ui .info .title { color: #1976d2 }
  `,

  // Custom CSS file
  customCssUrl: "/custom-swagger-theme.css",

  // Remove Swagger UI branding
  customSiteTitle: "My API Documentation",

  // Custom favicon
  customfavIcon: "/api-favicon.ico",
});
```

### Framework Integration

#### React Integration

##### Using Swagger-ui-react

```jsx
// File: src/components/ApiDocumentation.jsx
import React, { useState, useEffect } from "react";
import SwaggerUI from "swagger-ui-react";
import "swagger-ui-react/swagger-ui.css";

const ApiDocumentation = ({ apiVersion = "v1" }) => {
  const [spec, setSpec] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchApiSpec(apiVersion)
      .then(setSpec)
      .finally(() => setLoading(false));
  }, [apiVersion]);

  if (loading) return <div>Loading API documentation...</div>;

  return (
    <div className="api-docs-container">
      <div className="api-docs-header">
        <h1>API Documentation</h1>
        <select
          value={apiVersion}
          onChange={(e) => setApiVersion(e.target.value)}
        >
          <option value="v1">Version 1.0</option>
          <option value="v2">Version 2.0</option>
        </select>
      </div>

      <SwaggerUI
        spec={spec}
        docExpansion="list"
        deepLinking={true}
        filter={true}
        layout="BaseLayout"
        plugins={[
          // Custom authentication plugin
          () => ({
            statePlugins: {
              auth: {
                actions: {
                  authorize: (payload) => {
                    // Custom auth logic
                    return { type: "AUTHORIZE", payload };
                  },
                },
              },
            },
          }),
        ]}
        requestInterceptor={(request) => {
          // Add auth headers
          const token = localStorage.getItem("authToken");
          if (token) {
            request.headers["Authorization"] = `Bearer ${token}`;
          }
          return request;
        }}
        onComplete={(system) => {
          // Auto-authorize if token exists
          const token = localStorage.getItem("authToken");
          if (token) {
            system.authActions.authorize({
              Bearer: {
                name: "Bearer",
                schema: { type: "http", scheme: "bearer" },
                value: token,
              },
            });
          }
        }}
      />
    </div>
  );
};

export default ApiDocumentation;
```

<BackToTop />

##### Vue.js Integration

```vue
<!-- File: src/components/SwaggerUIComponent.vue -->
<template>
  <div id="swagger-ui-container">
    <div ref="swaggerContainer"></div>
  </div>
</template>

<script>
import SwaggerUIBundle from "swagger-ui-dist/swagger-ui-bundle.js";
import "swagger-ui-dist/swagger-ui.css";

export default {
  name: "SwaggerUIComponent",
  props: {
    url: {
      type: String,
      required: true,
    },
    config: {
      type: Object,
      default: () => ({}),
    },
  },
  mounted() {
    this.initSwaggerUI();
  },
  methods: {
    initSwaggerUI() {
      const defaultConfig = {
        url: this.url,
        domNode: this.$refs.swaggerContainer,
        deepLinking: true,
        presets: [
          SwaggerUIBundle.presets.apis,
          SwaggerUIBundle.presets.standalone,
        ],
        layout: "StandaloneLayout",
        requestInterceptor: this.requestInterceptor,
        responseInterceptor: this.responseInterceptor,
      };

      SwaggerUIBundle({
        ...defaultConfig,
        ...this.config,
      });
    },
    requestInterceptor(request) {
      // Add CSRF token
      const token = document.querySelector('meta[name="csrf-token"]')?.content;
      if (token) {
        request.headers["X-CSRF-TOKEN"] = token;
      }

      this.$emit("request", request);
      return request;
    },
    responseInterceptor(response) {
      this.$emit("response", response);
      return response;
    },
  },
};
</script>
```

<BackToTop />

##### Angular Integration

```typescript
// File: src/components/swagger-ui.component.ts
// swagger-ui.component.ts
import { Component, OnInit, Input, ElementRef, ViewChild } from "@angular/core";
import SwaggerUIBundle from "swagger-ui-dist/swagger-ui-bundle.js";

@Component({
  selector: "app-swagger-ui",
  template: "<div #swaggerContainer></div>",
  styleUrls: ["./swagger-ui.component.css"],
})
export class SwaggerUIComponent implements OnInit {
  @Input() url: string = "";
  @Input() config: any = {};
  @ViewChild("swaggerContainer", { static: true })
  swaggerContainer!: ElementRef;

  ngOnInit() {
    SwaggerUIBundle({
      url: this.url,
      domNode: this.swaggerContainer.nativeElement,
      deepLinking: true,
      presets: [
        SwaggerUIBundle.presets.apis,
        SwaggerUIBundle.presets.standalone,
      ],
      layout: "StandaloneLayout",
      requestInterceptor: (request) => {
        // Add Angular HTTP interceptor integration
        request.headers["X-Requested-With"] = "XMLHttpRequest";
        return request;
      },
      ...this.config,
    });
  }
}
```

<BackToTop />

### Enterprise Integration Patterns

#### Single Sign-On (SSO) Integration

```javascript
// File: src/js/sso-integration.js
// SSO integration example
const ui = SwaggerUIBundle({
  url: "openapi.json",
  dom_id: "#swagger-ui",
  onComplete: (system) => {
    // Check for SSO token
    const ssoToken = getSSOToken();
    if (ssoToken) {
      system.authActions.authorize({
        bearerAuth: {
          name: "bearerAuth",
          schema: {
            type: "http",
            scheme: "bearer",
            bearerFormat: "JWT",
          },
          value: ssoToken,
        },
      });
    }
  },
  requestInterceptor: (request) => {
    // Refresh token if expired
    const token = getAuthToken();
    if (isTokenExpired(token)) {
      refreshToken().then((newToken) => {
        request.headers["Authorization"] = `Bearer ${newToken}`;
      });
    }
    return request;
  },
});
```

<BackToTop />

##### API Gateway Integration

```javascript
// File: src/js/api-gateway.js
// API Gateway integration with request routing
const ui = SwaggerUIBundle({
  url: "openapi.json",
  dom_id: "#swagger-ui",
  requestInterceptor: (request) => {
    // Route requests through API Gateway
    const originalUrl = new URL(request.url);
    const gatewayUrl = new URL(process.env.API_GATEWAY_URL);

    // Preserve path and query parameters
    gatewayUrl.pathname = `/api/v1${originalUrl.pathname}`;
    gatewayUrl.search = originalUrl.search;

    request.url = gatewayUrl.toString();

    // Add gateway-specific headers
    request.headers["X-API-Gateway"] = "swagger-ui";
    request.headers["X-Request-Source"] = "documentation";

    return request;
  },
});
```

##### Content Security Policy (CSP) Compliance

```html
<!-- File: public/index.html -->
<!-- CSP-compliant Swagger UI setup -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>API Documentation</title>
    <meta
      http-equiv="Content-Security-Policy"
      content="
    default-src 'self';
    script-src 'self' 'unsafe-eval' https://unpkg.com;
    style-src 'self' 'unsafe-inline' https://unpkg.com;
    img-src 'self' data: https:;
    font-src 'self' https://fonts.gstatic.com;
    connect-src 'self' https://api.example.com;
  "
    />
    <link rel="stylesheet" type="text/css" href="swagger-ui.css" />
  </head>
  <body>
    <div id="swagger-ui"></div>
    <script src="swagger-ui-bundle.js"></script>
    <script>
      // CSP-safe initialization
      window.onload = function () {
        const ui = SwaggerUIBundle({
          url: "/api/openapi.json",
          dom_id: "#swagger-ui",
          deepLinking: true,
          presets: [
            SwaggerUIBundle.presets.apis,
            SwaggerUIBundle.presets.standalone,
          ],
          layout: "StandaloneLayout",
        });
      };
    </script>
  </body>
</html>
```

<BackToTop />

## Best Practices and Recommendations

Implementing Swagger UI effectively requires following established best practices for API documentation, security, and user experience.

### Documentation Quality

#### Comprehensive API Descriptions

```yaml
## File: Api-spec/ecommerce-api.yaml
## High-quality OpenAPI Specification Example
openapi: 3.0.3
info:
  title: E-commerce API
  version: 2.1.0
  description: |
## E-commerce Platform API

    This API provides  functionality for managing an e-commerce platform,
    including product catalog, user management, orders, and payments.

## Authentication

    All endpoints require authentication via Bearer token. Obtain tokens through
    the `/auth/login` endpoint.

## Rate Limiting

    API requests are limited to 1000 requests per hour per API key. Rate limit
    headers are included in all responses.

## Versioning

    This API uses semantic versioning. Breaking changes will increment the major
    version number. Backward-compatible changes increment minor version.

  contact:
    name: API Support
    url: https://example.com/support
    email: api-support@example.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://example.com/terms

servers:
  - url: https://api.example.com/v2
    description: Production server
  - url: https://staging-api.example.com/v2
    description: Staging server

paths:
  /products:
    get:
      summary: Retrieve products
      description: |
        Fetches a paginated list of products from the catalog.

        **Note:** This endpoint supports advanced filtering and sorting options.
        Use query parameters to refine results.

        **Examples:**
        - Get first 20 products: `?limit=20&offset=0`
        - Filter by category: `?category=electronics`
        - Sort by price: `?sort=price&order=asc`

      tags:
        - Products
      parameters:
        - name: limit
          in: query
          description: Maximum number of products to return (1-100)
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
          example: 20
        - name: offset
          in: query
          description: Number of products to skip for pagination
          required: false
          schema:
            type: integer
            minimum: 0
            default: 0
          example: 0
        - name: category
          in: query
          description: Filter products by category
          required: false
          schema:
            type: string
            enum: [electronics, clothing, books, home, sports]
          example: electronics
        - name: sort
          in: query
          description: Field to sort by
          required: false
          schema:
            type: string
            enum: [name, price, created_at, rating]
            default: created_at
          example: price
        - name: order
          in: query
          description: Sort order
          required: false
          schema:
            type: string
            enum: [asc, desc]
            default: desc
          example: asc
      responses:
        "200":
          description: Products retrieved successfully
          headers:
            X-Total-Count:
              description: Total number of products matching the criteria
              schema:
                type: integer
            X-Rate-Limit-Remaining:
              description: Number of requests remaining in current window
              schema:
                type: integer
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/Product"
                  pagination:
                    $ref: "#/components/schemas/PaginationMeta"
              examples:
                successful_response:
                  summary: Successful product list
                  value:
                    data:
                      - id: 1
                        name: "Wireless Headphones"
                        category: "electronics"
                        price: 99.99
                        currency: "USD"
                        in_stock: true
                        rating: 4.5
                      - id: 2
                        name: "Coffee Mug"
                        category: "home"
                        price: 14.99
                        currency: "USD"
                        in_stock: true
                        rating: 4.2
                    pagination:
                      limit: 20
                      offset: 0
                      total: 1250
                      has_more: true
        "400":
          description: Invalid request parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                invalid_limit:
                  summary: Invalid limit parameter
                  value:
                    error:
                      code: "INVALID_PARAMETER"
                      message: "Limit must be between 1 and 100"
                      field: "limit"
        "401":
          description: Authentication required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "429":
          description: Rate limit exceeded
          headers:
            Retry-After:
              description: Seconds to wait before making another request
              schema:
                type: integer
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

components:
  schemas:
    Product:
      type: object
      required:
        - id
        - name
        - category
        - price
        - currency
        - in_stock
      properties:
        id:
          type: integer
          format: int64
          description: Unique product identifier
          example: 1
        name:
          type: string
          description: Product name
          minLength: 1
          maxLength: 200
          example: "Wireless Headphones"
        category:
          type: string
          description: Product category
          enum: [electronics, clothing, books, home, sports]
          example: electronics
        price:
          type: number
          format: decimal
          description: Product price
          minimum: 0
          multipleOf: 0.01
          example: 99.99
        currency:
          type: string
          description: Price currency code (ISO 4217)
          pattern: "^[A-Z]{3}$"
          example: USD
        in_stock:
          type: boolean
          description: Whether product is currently in stock
          example: true
        rating:
          type: number
          format: float
          description: Average customer rating
          minimum: 0
          maximum: 5
          example: 4.5
        description:
          type: string
          description: Detailed product description
          maxLength: 2000
          example: "High-quality wireless headphones with noise cancellation"
        images:
          type: array
          description: Product image URLs
          items:
            type: string
            format: uri
          example: ["https://cdn.example.com/product1-main.jpg"]
        tags:
          type: array
          description: Product tags for search and categorization
          items:
            type: string
          example: ["wireless", "bluetooth", "noise-cancelling"]
        created_at:
          type: string
          format: date-time
          description: Product creation timestamp
          example: "2023-01-15T10:30:00Z"
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
          example: "2023-02-01T14:20:00Z"

    PaginationMeta:
      type: object
      required:
        - limit
        - offset
        - total
        - has_more
      properties:
        limit:
          type: integer
          description: Maximum items per page
          example: 20
        offset:
          type: integer
          description: Number of items skipped
          example: 0
        total:
          type: integer
          description: Total number of items
          example: 1250
        has_more:
          type: boolean
          description: Whether more items are available
          example: true

    ErrorResponse:
      type: object
      required:
        - error
      properties:
        error:
          type: object
          required:
            - code
            - message
          properties:
            code:
              type: string
              description: Error code for programmatic handling
              example: "INVALID_PARAMETER"
            message:
              type: string
              description: Human-readable error message
              example: "The provided parameter is invalid"
            field:
              type: string
              description: Field that caused the error (if applicable)
              example: "limit"
            details:
              type: object
              description: Additional error details
              additionalProperties: true

  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT Bearer token authentication

security:
  - BearerAuth: []

tags:
  - name: Products
    description: Product catalog management
  - name: Users
    description: User account management
  - name: Orders
    description: Order processing and management
  - name: Authentication
    description: Authentication and authorization endpoints
```

<BackToTop />

### Configuration Best Practices

#### Production-Ready Configuration

```javascript
// File: src/config/production-optimized-config.js
const createSwaggerUIConfig = (environment = "production") => {
  const isDevelopment = environment === "development";
  const isStaging = environment === "staging";
  const isProduction = environment === "production";

  return {
    // Basic configuration
    url: getApiSpecUrl(environment),
    dom_id: "#swagger-ui",

    // Performance optimizations
    docExpansion: isProduction ? "none" : "list",
    defaultModelsExpandDepth: isProduction ? 0 : 1,
    defaultModelExpandDepth: isProduction ? 0 : 1,

    // Security configurations
    supportedSubmitMethods: isProduction
      ? [] // Disable try-it-out in production
      : ["get", "post", "put", "delete", "patch", "head", "options"],

    // UI configurations
    displayOperationId: isDevelopment,
    displayRequestDuration: !isProduction,
    filter: true,
    showExtensions: isDevelopment,
    showCommonExtensions: isDevelopment,

    // Custom styling
    customCss: getCustomCSS(environment),
    customCssUrl: `/styles/swagger-ui-${environment}.css`,

    // Branding
    customSiteTitle: `API Documentation - ${environment.toUpperCase()}`,
    customfavIcon: `/favicon-${environment}.ico`,

    // Deep linking and navigation
    deepLinking: true,
    displayOperationId: false,

    // OAuth configuration
    oauth2RedirectUrl: `${window.location.origin}/oauth2-redirect.html`,

    // Error handling
    onFailure: (error) => {
      console.error("Swagger UI failed to load:", error);

      if (isProduction) {
        // Send to monitoring service
        sendErrorToMonitoring({
          type: "swagger_ui_failure",
          error: error.message,
          environment,
          timestamp: new Date().toISOString(),
        });
      }

      // Show user-friendly error message
      displayUserFriendlyError(error);
    },

    // Request/Response interceptors
    requestInterceptor: createRequestInterceptor(environment),
    responseInterceptor: createResponseInterceptor(environment),

    // Authentication setup
    onComplete: (system) => {
      // Auto-configure authentication for development
      if (isDevelopment) {
        autoConfigureAuth(system);
      }

      // Initialize analytics for production
      if (isProduction) {
        initializeAnalytics(system);
      }
    },

    // Plugins
    plugins: [
      // Core plugins
      SwaggerUIBundle.plugins.DownloadUrl,

      // Environment-specific plugins
      ...(isDevelopment ? [DebugPlugin] : []),
      ...(isProduction ? [AnalyticsPlugin, SecurityPlugin] : []),

      // Custom plugins
      CustomBrandingPlugin,
      AccessibilityPlugin,
    ],

    // Layout
    layout: "StandaloneLayout",

    // Presets
    presets: [SwaggerUIBundle.presets.apis, SwaggerUIStandalonePreset],
  };
};

function getApiSpecUrl(environment) {
  const urls = {
    development: "http://localhost:3000/api/openapi.json",
    staging: "https://staging-api.example.com/openapi.json",
    production: "https://api.example.com/openapi.json",
  };

  return urls[environment] || urls.production;
}

function getCustomCSS(environment) {
  const envColors = {
    development: "#28a745",
    staging: "#ffc107",
    production: "#007bff",
  };

  const color = envColors[environment];

  return `
    /* Environment indicator */
    .swagger-ui .info .title:after {
      content: " (${environment.toUpperCase()})";
      color: ${color};
      font-weight: bold;
      margin-left: 10px;
    }
    
    /* Custom branding */
    .swagger-ui .topbar {
      background-color: ${color};
    }
    
    /* Hide download button in production */
    ${environment === "production" ? ".swagger-ui .download-url-wrapper { display: none; }" : ""}
    
    /* Accessibility improvements */
    .swagger-ui .opblock-summary {
      outline: none;
    }
    
    .swagger-ui .opblock-summary:focus {
      box-shadow: 0 0 0 2px ${color};
    }
    
    /* Mobile responsiveness */
    @media (max-width: 768px) {
      .swagger-ui .info .title {
        font-size: 24px;
      }
      
      .swagger-ui .opblock-summary {
        padding: 10px;
      }
    }
  `;
}

function createRequestInterceptor(environment) {
  return (request) => {
    // Add environment headers
    request.headers["X-Environment"] = environment;
    request.headers["X-API-Client"] = "swagger-ui";

    // Add authentication
    const token = getAuthToken();
    if (token) {
      request.headers["Authorization"] = `Bearer ${token}`;
    }

    // Add CSRF protection
    const csrfToken = document.querySelector(
      'meta[name="csrf-token"]',
    )?.content;
    if (csrfToken) {
      request.headers["X-CSRF-Token"] = csrfToken;
    }

    // Development-specific modifications
    if (environment === "development") {
      console.log("🚀 API Request:", request);
    }

    return request;
  };
}

function createResponseInterceptor(environment) {
  return (response) => {
    // Log responses in development
    if (environment === "development") {
      console.log("📥 API Response:", response);
    }

    // Handle authentication errors
    if (response.status === 401) {
      handleAuthError();
    }

    // Handle rate limiting
    if (response.status === 429) {
      const retryAfter = response.headers["retry-after"];
      showRateLimitWarning(retryAfter);
    }

    // Track API usage in production
    if (environment === "production") {
      trackApiUsage(response);
    }

    return response;
  };
}

// Initialize Swagger UI with environment detection
const environment = detectEnvironment();
const config = createSwaggerUIConfig(environment);
const ui = SwaggerUIBundle(config);
```

<BackToTop />

### Security Best Practices

#### Production Security Checklist

```markdown
## Swagger UI Security Checklist

### 🔒 Authentication & Authorization

- [ ] API endpoints require proper authentication
- [ ] Try-it-out feature disabled in production
- [ ] Sensitive operations require elevated permissions
- [ ] OAuth 2.0 flows properly configured
- [ ] API keys are not exposed in client-side code
- [ ] JWT tokens have appropriate expiration times

### 🛡️ Content Security Policy

- [ ] CSP headers configured to prevent XSS
- [ ] Only necessary external resources allowed
- [ ] Inline scripts and styles minimized
- [ ] Frame ancestors properly restricted

### 🌐 Network Security

- [ ] HTTPS enforced for all communications
- [ ] CORS properly configured
- [ ] Rate limiting implemented
- [ ] Request size limits enforced

### 📄 Information Disclosure

- [ ] Internal URLs not exposed in production specs
- [ ] Debug information removed from production
- [ ] Error messages don't reveal system details
- [ ] API keys and secrets not in documentation

### 🔍 Monitoring & Logging

- [ ] API access logged for security monitoring
- [ ] Failed authentication attempts tracked
- [ ] Unusual usage patterns detected
- [ ] Security incidents have response procedures
```

<BackToTop />

### Performance Optimization

#### Bundle Size Analysis

```javascript
// webpack-bundle-analyzer-config.js
const BundleAnalyzerPlugin =
  require("webpack-bundle-analyzer").BundleAnalyzerPlugin;

module.exports = {
  // ... other webpack config

  plugins: [
    new BundleAnalyzerPlugin({
      analyzerMode: "static",
      openAnalyzer: false,
      reportFilename: "swagger-ui-bundle-report.html",
    }),
  ],

  optimization: {
    splitChunks: {
      chunks: "all",
      cacheGroups: {
        // Separate vendor bundles
        vendor: {
          test: /[\\/]node_modules[\\/]/,
          name: "vendors",
          chunks: "all",
        },

        // Separate Swagger UI from other vendors
        swaggerui: {
          test: /[\\/]node_modules[\\/]swagger-ui/,
          name: "swagger-ui",
          chunks: "all",
          priority: 10,
        },

        // Separate React from other vendors
        react: {
          test: /[\\/]node_modules[\\/](react|react-dom)[\\/]/,
          name: "react",
          chunks: "all",
          priority: 20,
        },
      },
    },
  },
};
```

<BackToTop />

### Team Collaboration

#### Documentation Workflow

```yaml
## .github/workflows/api-docs.yml
name: API Documentation CI/CD

on:
  push:
    branches: [main, develop]
    paths: ["openapi.yaml", "docs/**"]
  pull_request:
    branches: [main]
    paths: ["openapi.yaml", "docs/**"]

jobs:
  validate-spec:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Validate OpenAPI Specification
        uses: char0n/swagger-editor-validate@v1
        with:
          definition-file: openapi.yaml

      - name: Generate API Documentation
        run: |
          npm install -g swagger-ui-dist
          mkdir -p dist
          cp openapi.yaml dist/
          swagger-ui-dist-cli -f openapi.yaml -d dist

      - name: Deploy to GitHub Pages
        if: github.ref == 'refs/heads/main'
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./dist

      - name: Deploy to Staging
        if: github.ref == 'refs/heads/develop'
        run: |
## Deploy to Staging Environment
          echo "Deploying to staging..."

  accessibility-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: "18"

      - name: Install dependencies
        run: npm install

      - name: Run accessibility tests
        run: |
          npm run test:a11y

  performance-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Lighthouse CI
        uses: treosh/lighthouse-ci-action@v9
        with:
          configPath: "./lighthouserc.json"
          uploadArtifacts: true
```

<BackToTop />

### Monitoring and Analytics

#### Usage Analytics Setup

```javascript
// analytics-plugin.js
const AnalyticsPlugin = () => {
  return {
    statePlugins: {
      spec: {
        wrapActions: {
          execute: (oriAction, system) => (payload) => {
            // Track API endpoint usage
            const { pathName, method, operation } = payload;

            // Send analytics event
            if (typeof gtag !== "undefined") {
              gtag("event", "api_endpoint_tested", {
                endpoint_path: pathName,
                http_method: method,
                operation_id: operation.get("operationId"),
                custom_map: {
                  metric1: pathName,
                  metric2: method,
                },
              });
            }

            // Track usage in custom analytics
            trackApiUsage({
              endpoint: pathName,
              method: method,
              timestamp: Date.now(),
              userAgent: navigator.userAgent,
            });

            return oriAction(payload);
          },
        },
      },
    },
  };
};

function trackApiUsage(data) {
  // Send to custom analytics endpoint
  fetch("/api/analytics/swagger-usage", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify(data),
  }).catch((err) => {
    console.debug("Analytics tracking failed:", err);
  });
}
```

<BackToTop />

### Maintenance and Updates

#### Regular Maintenance Tasks

```javascript
// maintenance-checklist.js
const maintenanceTasks = {
  daily: [
    "Check error logs for Swagger UI issues",
    "Verify API documentation is accessible",
    "Monitor performance metrics",
  ],

  weekly: [
    "Review API usage analytics",
    "Check for broken links in documentation",
    "Validate OpenAPI specification accuracy",
    "Review security logs",
  ],

  monthly: [
    "Update Swagger UI to latest version",
    "Review and update API examples",
    "Conduct accessibility audit",
    "Performance optimization review",
    "Security assessment",
    "User feedback review and implementation",
  ],

  quarterly: [
    "Major version updates planning",
    "Architecture review",
    "Documentation strategy assessment",
    "Training needs assessment",
    "Tool evaluation (alternatives to Swagger UI)",
  ],
};

// Automated maintenance script
class SwaggerUIMaintenanceManager {
  constructor() {
    this.version = "5.9.0"; // Current Swagger UI version
    this.lastUpdated = new Date();
  }

  async checkForUpdates() {
    try {
      const response = await fetch(
        "https://api.github.com/repos/swagger-api/swagger-ui/releases/latest",
      );
      const latest = await response.json();

      if (latest.tag_name !== this.version) {
        console.log(`New Swagger UI version available: ${latest.tag_name}`);
        return {
          available: true,
          currentVersion: this.version,
          latestVersion: latest.tag_name,
          releaseNotes: latest.body,
        };
      }

      return { available: false };
    } catch (error) {
      console.error("Failed to check for updates:", error);
      return { available: false, error };
    }
  }

  async validateSpecification(specUrl) {
    try {
      const response = await fetch(specUrl);
      const spec = await response.json();

      // Basic validation
      const issues = [];

      if (!spec.openapi && !spec.swagger) {
        issues.push("Missing OpenAPI/Swagger version");
      }

      if (!spec.info) {
        issues.push("Missing info object");
      }

      if (!spec.paths || Object.keys(spec.paths).length === 0) {
        issues.push("No API paths defined");
      }

      // Check for common issues
      if (spec.paths) {
        Object.entries(spec.paths).forEach(([path, methods]) => {
          Object.entries(methods).forEach(([method, operation]) => {
            if (!operation.summary && !operation.description) {
              issues.push(
                `Missing summary/description for ${method.toUpperCase()} ${path}`,
              );
            }

            if (!operation.responses) {
              issues.push(
                `Missing responses for ${method.toUpperCase()} ${path}`,
              );
            }
          });
        });
      }

      return {
        valid: issues.length === 0,
        issues,
        pathCount: spec.paths ? Object.keys(spec.paths).length : 0,
      };
    } catch (error) {
      return {
        valid: false,
        issues: [`Failed to fetch/parse specification: ${error.message}`],
      };
    }
  }

  generateMaintenanceReport() {
    return {
      timestamp: new Date().toISOString(),
      swaggerUIVersion: this.version,
      lastUpdated: this.lastUpdated,
      tasks: maintenanceTasks,
      recommendations: [
        "Keep Swagger UI updated to latest stable version",
        "Regularly validate OpenAPI specifications",
        "Monitor performance and security metrics",
        "Collect and act on user feedback",
        "Maintain consistent documentation standards",
      ],
    };
  }
}

// Usage
const manager = new SwaggerUIMaintenanceManager();
manager.checkForUpdates().then((result) => {
  if (result.available) {
    console.log("Update available:", result);
  }
});
```

<BackToTop />

## Security Considerations

Security is paramount when deploying Swagger UI, especially in production environments. This section covers essential security practices and configurations.

### Authentication Configuration

#### OAUTH 2.0 Setup

```javascript
// File: src/js/oauth-setup.js
const ui = SwaggerUIBundle({
  url: "openapi.json",
  dom_id: "#swagger-ui",

  // OAuth 2.0 configuration
  oauth2RedirectUrl: `${window.location.origin}/oauth2-redirect.html`,

  // Pre-configured OAuth flows
  initOAuth: {
    clientId: "your-client-id",
    clientSecret: "your-client-secret",
    realm: "your-realm",
    appName: "your-app-name",
    scopeSeparator: " ",
    scopes: "read write admin",
    additionalQueryStringParams: {
      audience: "your-api-audience",
    },
    useBasicAuthenticationWithAccessCodeGrant: false,
    usePkceWithAuthorizationCodeGrant: true,
  },
});
```

##### OAuth2 Redirect Handler (oauth2-redirect.html)

```html
<!-- File: public/oauth2-redirect.html -->
<!doctype html>
<html lang="en-US">
  <head>
    <title>Swagger UI: OAuth2 Redirect</title>
  </head>
  <body>
    <script>
      "use strict";
      function run() {
        var oauth2 = window.opener.swaggerUIRedirectOauth2;
        var sentState = oauth2.state;
        var redirectUrl = oauth2.redirectUrl;
        var isValid, qp, arr;

        if (/code|token|error/.test(window.location.hash)) {
          qp = window.location.hash.substring(1);
        } else {
          qp = location.search.substring(1);
        }

        arr = qp.split("&");
        arr.forEach(function (v, i, _arr) {
          _arr[i] = '"' + v.replace("=", '":"') + '"';
        });
        qp = qp
          ? JSON.parse("{" + arr.join() + "}", function (key, value) {
              return key === "" ? value : decodeURIComponent(value);
            })
          : {};

        isValid = qp.state === sentState;

        if (
          (oauth2.auth.schema.get("flow") === "accessCode" ||
            oauth2.auth.schema.get("flow") === "authorizationCode" ||
            oauth2.auth.schema.get("flow") === "authorization_code") &&
          !oauth2.auth.code
        ) {
          if (!isValid) {
            oauth2.errCb({
              authId: oauth2.auth.name,
              source: "auth",
              level: "warning",
              message:
                "Authorization may be unsafe, passed state was changed in server Passed state wasn't returned from auth server",
            });
          }

          if (qp.code) {
            delete oauth2.state;
            oauth2.auth.code = qp.code;
            oauth2.callback({ auth: oauth2.auth, redirectUrl: redirectUrl });
          } else {
            let oauthErrorMsg;
            if (qp.error) {
              oauthErrorMsg =
                "[" +
                qp.error +
                "]: " +
                (qp.error_description
                  ? qp.error_description + ". "
                  : "no accessCode received from the server. ") +
                (qp.error_uri ? "More info: " + qp.error_uri : "");
            }

            oauth2.errCb({
              authId: oauth2.auth.name,
              source: "auth",
              level: "error",
              message:
                oauthErrorMsg ||
                "[Authorization failed]: no accessCode received from the server",
            });
          }
        } else {
          oauth2.callback({
            auth: oauth2.auth,
            token: qp,
            isValid: isValid,
            redirectUrl: redirectUrl,
          });
        }
        window.close();
      }

      if (document.readyState !== "loading") {
        run();
      } else {
        document.addEventListener("DOMContentLoaded", function () {
          run();
        });
      }
    </script>
  </body>
</html>
```

<BackToTop />

##### API Key Authentication

```javascript
// Pre-populate API key authentication
const ui = SwaggerUIBundle({
  url: "openapi.json",
  dom_id: "#swagger-ui",
  onComplete: (system) => {
    // Auto-populate API key if available
    const apiKey = getStoredApiKey();
    if (apiKey) {
      system.authActions.authorize({
        ApiKeyAuth: {
          name: "ApiKeyAuth",
          schema: {
            type: "apiKey",
            in: "header",
            name: "X-API-Key",
          },
          value: apiKey,
        },
      });
    }
  },
});

function getStoredApiKey() {
  // Secure storage retrieval
  return sessionStorage.getItem("api_key") || getCookieValue("api_key");
}
```

### Production Security Hardening

#### Environment-Specific Configuration

```javascript
// production-config.js
const isProduction = process.env.NODE_ENV === "production";

const config = {
  url: isProduction
    ? "https://api.example.com/openapi.json"
    : "http://localhost:3000/openapi.json",

  dom_id: "#swagger-ui",

  // Disable try-it-out in production
  supportedSubmitMethods: isProduction
    ? []
    : ["get", "post", "put", "delete", "patch"],

  // Remove sensitive information in production
  docExpansion: isProduction ? "none" : "list",

  // Security headers
  requestInterceptor: (request) => {
    if (isProduction) {
      // Add security headers
      request.headers["X-Requested-With"] = "SwaggerUI";
      request.headers["Cache-Control"] = "no-cache";

      // Remove debug information
      delete request.headers["User-Agent"];
    }

    return request;
  },

  // Disable swagger-ui branding in production
  customCss: isProduction
    ? `
    .swagger-ui .info .title small {display: none;}
    .swagger-ui .scheme-container {display: none;}
  `
    : "",

  // Custom error handling
  onFailure: (error) => {
    if (isProduction) {
      console.error("API Documentation Error:", error.message);
      // Send to monitoring service
      sendErrorToMonitoring(error);
    } else {
      console.error("Swagger UI Error:", error);
    }
  },
};
```

##### Content Security Policy Headers

```nginx
## Nginx Configuration for Swagger UI Security
server {
    listen 443 ssl http2;
    server_name api-docs.example.com;

## Security Headers
    add_header Content-Security-Policy "
        default-src 'self';
        script-src 'self' 'unsafe-eval' 'unsafe-inline';
        style-src 'self' 'unsafe-inline';
        img-src 'self' data: https:;
        font-src 'self' data:;
        connect-src 'self' https://api.example.com;
        frame-ancestors 'none';
    " always;

    add_header X-Frame-Options "DENY" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header Referrer-Policy "strict-origin-when-cross-origin" always;
    add_header Permissions-Policy "geolocation=(), microphone=(), camera=()" always;

## Hsts Header
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" always;

    location / {
        root /var/www/swagger-ui;
        index index.html;

## Cache Static Assets
        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
            expires 1y;
            add_header Cache-Control "public, immutable";
        }
    }

## Rate Limiting
    limit_req_zone $binary_remote_addr zone=api_docs:10m rate=10r/m;
    limit_req zone=api_docs burst=5;
}
```

### Access Control and Permissions

#### Role-Based Access Control

```javascript
// RBAC implementation for Swagger UI
class SwaggerUIManager {
  constructor(userRole, permissions) {
    this.userRole = userRole;
    this.permissions = permissions;
  }

  getFilteredSpec(originalSpec) {
    const filteredSpec = JSON.parse(JSON.stringify(originalSpec));

    // Filter paths based on permissions
    Object.keys(filteredSpec.paths).forEach((path) => {
      Object.keys(filteredSpec.paths[path]).forEach((method) => {
        const operation = filteredSpec.paths[path][method];

        // Check if user has permission for this operation
        if (!this.hasPermission(operation.operationId)) {
          delete filteredSpec.paths[path][method];
        }
      });

      // Remove path if no methods remain
      if (Object.keys(filteredSpec.paths[path]).length === 0) {
        delete filteredSpec.paths[path];
      }
    });

    return filteredSpec;
  }

  hasPermission(operationId) {
    const requiredPermissions = {
      getUsers: ["read:users"],
      createUser: ["write:users"],
      updateUser: ["write:users"],
      deleteUser: ["delete:users"],
      getAdminData: ["admin:read"],
    };

    const required = requiredPermissions[operationId] || [];
    return required.every((perm) => this.permissions.includes(perm));
  }

  initSwaggerUI() {
    fetch("/api/openapi.json")
      .then((response) => response.json())
      .then((spec) => {
        const filteredSpec = this.getFilteredSpec(spec);

        SwaggerUIBundle({
          spec: filteredSpec,
          dom_id: "#swagger-ui",
          supportedSubmitMethods: this.getAllowedMethods(),
          requestInterceptor: this.requestInterceptor.bind(this),
        });
      });
  }

  getAllowedMethods() {
    const methodPermissions = {
      get: "read",
      post: "write",
      put: "write",
      patch: "write",
      delete: "delete",
    };

    return Object.keys(methodPermissions).filter((method) =>
      this.permissions.some((perm) => perm.includes(methodPermissions[method])),
    );
  }

  requestInterceptor(request) {
    // Add user context to requests
    request.headers["X-User-Role"] = this.userRole;
    request.headers["X-User-ID"] = this.getUserId();

    return request;
  }
}

// Usage
const userPermissions = ["read:users", "write:users"];
const swaggerManager = new SwaggerUIManager("editor", userPermissions);
swaggerManager.initSwaggerUI();
```

<BackToTop />

## Performance Optimization

Optimizing Swagger UI performance is crucial for large APIs and production deployments.

### Lazy Loading and Code Splitting

```javascript
// Lazy loading implementation
async function initSwaggerUI() {
  // Load Swagger UI bundle only when needed
  const [SwaggerUIBundle, spec] = await Promise.all([
    import("swagger-ui-dist/swagger-ui-bundle.js"),
    fetch("/api/openapi.json").then((r) => r.json()),
  ]);

  // Initialize with performance optimizations
  SwaggerUIBundle.default({
    spec: spec,
    dom_id: "#swagger-ui",

    // Performance configurations
    docExpansion: "none", // Don't expand operations by default
    defaultModelsExpandDepth: 1, // Limit model expansion
    defaultModelExpandDepth: 1,

    // Disable unnecessary features for better performance
    displayOperationId: false,
    displayRequestDuration: true,

    // Custom plugin for lazy loading
    plugins: [LazyLoadingPlugin],
  });
}

// Lazy loading plugin
const LazyLoadingPlugin = () => {
  return {
    components: {
      // Custom operation component with lazy loading
      Operation: (Original, system) => (props) => {
        const [expanded, setExpanded] = React.useState(false);

        if (!expanded && props.isShown) {
          return React.createElement(
            "div",
            {
              className: "lazy-operation",
              onClick: () => setExpanded(true),
            },
            "Click to load operation details...",
          );
        }

        return expanded ? React.createElement(Original, props) : null;
      },
    },
  };
};
```

### Caching Strategies

```javascript
// Service worker for caching Swagger UI assets
// sw.js
const CACHE_NAME = "swagger-ui-v1";
const urlsToCache = [
  "/swagger-ui/",
  "/swagger-ui/swagger-ui-bundle.js",
  "/swagger-ui/swagger-ui.css",
  "/api/openapi.json",
];

self.addEventListener("install", (event) => {
  event.waitUntil(
    caches.open(CACHE_NAME).then((cache) => cache.addAll(urlsToCache)),
  );
});

self.addEventListener("fetch", (event) => {
  event.respondWith(
    caches.match(event.request).then((response) => {
      // Return cached version or fetch from network
      if (response) {
        return response;
      }

      // Clone the request for caching
      const fetchRequest = event.request.clone();

      return fetch(fetchRequest).then((response) => {
        // Check if valid response
        if (!response || response.status !== 200 || response.type !== "basic") {
          return response;
        }

        // Clone response for caching
        const responseToCache = response.clone();

        caches.open(CACHE_NAME).then((cache) => {
          cache.put(event.request, responseToCache);
        });

        return response;
      });
    }),
  );
});

// Register service worker
if ("serviceWorker" in navigator) {
  navigator.serviceWorker
    .register("/sw.js")
    .then((registration) => {
      console.log("SW registered: ", registration);
    })
    .catch((registrationError) => {
      console.log("SW registration failed: ", registrationError);
    });
}
```

### Bundle Size Optimization

```javascript
// Webpack configuration for optimized Swagger UI build
const path = require("path");
const TerserPlugin = require("terser-webpack-plugin");
const CompressionPlugin = require("compression-webpack-plugin");

module.exports = {
  mode: "production",
  entry: "./src/index.js",
  output: {
    path: path.resolve(__dirname, "dist"),
    filename: "swagger-ui.min.js",
    chunkFilename: "[name].[contenthash].js",
  },
  optimization: {
    minimize: true,
    minimizer: [
      new TerserPlugin({
        terserOptions: {
          compress: {
            drop_console: true,
            drop_debugger: true,
          },
        },
      }),
    ],
    splitChunks: {
      chunks: "all",
      cacheGroups: {
        vendor: {
          test: /[\\/]node_modules[\\/]/,
          name: "vendors",
          chunks: "all",
        },
      },
    },
  },
  plugins: [
    new CompressionPlugin({
      algorithm: "gzip",
      test: /\.(js|css|html|svg)$/,
      threshold: 8192,
      minRatio: 0.8,
    }),
  ],
  resolve: {
    alias: {
      // Use production builds
      react: "react/cjs/react.production.min.js",
      "react-dom": "react-dom/cjs/react-dom.production.min.js",
    },
  },
};
```

<BackToTop />

### Memory Management

```javascript
// Memory-efficient Swagger UI configuration
const ui = SwaggerUIBundle({
  url: "openapi.json",
  dom_id: "#swagger-ui",

  // Limit concurrent requests
  requestInterceptor: (() => {
    let activeRequests = 0;
    const maxConcurrent = 5;
    const requestQueue = [];

    return (request) => {
      return new Promise((resolve) => {
        const executeRequest = () => {
          activeRequests++;

          fetch(request.url, {
            method: request.method,
            headers: request.headers,
            body: request.body,
          })
            .then((response) => {
              activeRequests--;
              processQueue();
              resolve(response);
            })
            .catch((error) => {
              activeRequests--;
              processQueue();
              throw error;
            });
        };

        const processQueue = () => {
          if (requestQueue.length > 0 && activeRequests < maxConcurrent) {
            const nextRequest = requestQueue.shift();
            nextRequest();
          }
        };

        if (activeRequests < maxConcurrent) {
          executeRequest();
        } else {
          requestQueue.push(executeRequest);
        }
      });
    };
  })(),

  // Clean up unused DOM elements
  onComplete: (system) => {
    // Remove unused elements after 5 minutes
    setTimeout(() => {
      const unusedElements = document.querySelectorAll(
        ".swagger-ui .opblock:not(.is-open)",
      );
      unusedElements.forEach((el) => {
        if (!el.querySelector(".opblock-summary:hover")) {
          el.style.display = "none";
        }
      });
    }, 300000);
  },
});
```

<BackToTop />

## Troubleshooting Common Issues

This section addresses frequent problems and their solutions when working with Swagger UI.

### CORS and Network Issues

#### CORS Configuration

```javascript
// Handle CORS issues with proxy configuration
const ui = SwaggerUIBundle({
  url: "openapi.json",
  dom_id: "#swagger-ui",

  // Use proxy for CORS issues
  requestInterceptor: (request) => {
    // Proxy requests through your server to avoid CORS
    if (request.url.startsWith("https://api.example.com")) {
      request.url = request.url.replace(
        "https://api.example.com",
        "/api-proxy",
      );
    }

    return request;
  },
});
```

##### Express.js CORS Proxy

```javascript
const express = require("express");
const { createProxyMiddleware } = require("http-proxy-middleware");
const cors = require("cors");

const app = express();

// Enable CORS for Swagger UI
app.use(
  cors({
    origin: ["http://localhost:3000", "https://yourdomain.com"],
    credentials: true,
  }),
);

// Proxy API requests
app.use(
  "/api-proxy",
  createProxyMiddleware({
    target: "https://api.example.com",
    changeOrigin: true,
    pathRewrite: {
      "^/api-proxy": "",
    },
    onProxyReq: (proxyReq, req, res) => {
      // Add authentication headers
      proxyReq.setHeader("Authorization", req.headers.authorization);
    },
  }),
);

app.listen(3001, () => {
  console.log("Proxy server running on port 3001");
});
```

### OpenAPI Specification Issues

#### Validation Errors

```javascript
// Debug OpenAPI specification issues
async function validateAndLoadSpec() {
  try {
    const response = await fetch("/api/openapi.json");
    const spec = await response.json();

    // Basic validation
    if (!spec.openapi && !spec.swagger) {
      throw new Error("Missing OpenAPI/Swagger version");
    }

    if (!spec.info) {
      throw new Error("Missing required info object");
    }

    if (!spec.paths) {
      throw new Error("Missing paths object");
    }

    // Validate each path
    Object.keys(spec.paths).forEach((path) => {
      if (!path.startsWith("/")) {
        console.warn(`Path should start with /: ${path}`);
      }

      Object.keys(spec.paths[path]).forEach((method) => {
        const operation = spec.paths[path][method];
        if (!operation.responses) {
          console.warn(`Missing responses for ${method.toUpperCase()} ${path}`);
        }
      });
    });

    // Load Swagger UI with validated spec
    SwaggerUIBundle({
      spec: spec,
      dom_id: "#swagger-ui",
      onFailure: (error) => {
        console.error("Swagger UI failed to load:", error);
        displayError(error);
      },
    });
  } catch (error) {
    console.error("Specification validation failed:", error);
    displayError(error);
  }
}

function displayError(error) {
  const container = document.getElementById("swagger-ui");
  container.innerHTML = `
    <div style="padding: 20px; border: 1px solid #ff6b6b; background: #ffe0e0; color: #d63031;">
      <h3>Error Loading API Documentation</h3>
      <p><strong>Error:</strong> ${error.message}</p>
      <p><strong>Suggestions:</strong></p>
      <ul>
        <li>Check that the OpenAPI specification URL is accessible</li>
        <li>Validate your OpenAPI specification using online validators</li>
        <li>Ensure CORS is properly configured</li>
        <li>Check browser console for detailed error messages</li>
      </ul>
    </div>
  `;
}
```

##### Schema Reference Issues

```yaml
## Common OpenAPI Specification Fixes
openapi: 3.0.3
info:
  title: Example API
  version: 1.0.0

## Fix: Always Define Components before Referencing
components:
  schemas:
    User:
      type: "object"
      properties:
        id:
          type: "integer"
        username:
          type: "string"
        email:
          type: "string"
          format: "email"

    Error:
      type: "object"
      properties:
        code:
          type: "integer"
        message:
          type: "string"

paths:
  /users:
    get:
      summary: Get users
      responses:
        "200":
          description: "Successful response"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/User" # Correct reference
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error" # Correct reference
```

### Performance Issues

#### Large API Specifications

```javascript
// Handle large specifications with lazy loading
const ui = SwaggerUIBundle({
  url: "openapi.json",
  dom_id: "#swagger-ui",

  // Performance optimizations for large APIs
  docExpansion: "none",
  defaultModelsExpandDepth: 0,
  defaultModelExpandDepth: 0,

  // Limit visible operations
  filter: true,

  // Custom plugin to limit rendering
  plugins: [
    function () {
      return {
        components: {
          OperationContainer: (Original, system) => (props) => {
            // Only render if operation is visible in viewport
            const [isVisible, setIsVisible] = React.useState(false);
            const ref = React.useRef();

            React.useEffect(() => {
              const observer = new IntersectionObserver(
                ([entry]) => setIsVisible(entry.isIntersecting),
                { threshold: 0.1 },
              );

              if (ref.current) {
                observer.observe(ref.current);
              }

              return () => observer.disconnect();
            }, []);

            return React.createElement(
              "div",
              { ref },
              isVisible
                ? React.createElement(Original, props)
                : React.createElement(
                    "div",
                    {
                      style: { height: "100px", background: "#f5f5f5" },
                    },
                    "Loading...",
                  ),
            );
          },
        },
      };
    },
  ],
});
```

<BackToTop />

### Authentication Problems

#### Token Refresh Issues

```javascript
// Handle token refresh in Swagger UI
let refreshPromise = null;

const ui = SwaggerUIBundle({
  url: "openapi.json",
  dom_id: "#swagger-ui",

  requestInterceptor: async (request) => {
    const token = getAuthToken();

    // Check if token needs refresh
    if (isTokenExpired(token)) {
      if (!refreshPromise) {
        refreshPromise = refreshAuthToken();
      }

      try {
        const newToken = await refreshPromise;
        request.headers["Authorization"] = `Bearer ${newToken}`;
        refreshPromise = null;
      } catch (error) {
        refreshPromise = null;
        // Redirect to login or show auth error
        showAuthError();
        return request;
      }
    } else {
      request.headers["Authorization"] = `Bearer ${token}`;
    }

    return request;
  },

  responseInterceptor: (response) => {
    // Handle 401 responses
    if (response.status === 401) {
      clearAuthToken();
      showAuthError();
    }
    return response;
  },
});

function isTokenExpired(token) {
  if (!token) return true;

  try {
    const payload = JSON.parse(atob(token.split(".")[1]));
    return payload.exp * 1000 < Date.now();
  } catch {
    return true;
  }
}

async function refreshAuthToken() {
  const refreshToken = getRefreshToken();
  const response = await fetch("/auth/refresh", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ refreshToken }),
  });

  if (!response.ok) {
    throw new Error("Token refresh failed");
  }

  const { accessToken } = await response.json();
  setAuthToken(accessToken);
  return accessToken;
}
```

### Debugging and Monitoring

#### Error Tracking

```javascript
// Comprehensive error tracking for Swagger UI
class SwaggerUIErrorTracker {
  constructor() {
    this.errors = [];
    this.setupGlobalErrorHandling();
  }

  setupGlobalErrorHandling() {
    // Capture unhandled promise rejections
    window.addEventListener("unhandledrejection", (event) => {
      this.logError("Unhandled Promise Rejection", event.reason);
    });

    // Capture JavaScript errors
    window.addEventListener("error", (event) => {
      this.logError("JavaScript Error", {
        message: event.message,
        filename: event.filename,
        lineno: event.lineno,
        colno: event.colno,
        error: event.error,
      });
    });
  }

  logError(type, details) {
    const error = {
      type,
      details,
      timestamp: new Date().toISOString(),
      userAgent: navigator.userAgent,
      url: window.location.href,
    };

    this.errors.push(error);
    console.error(`SwaggerUI ${type}:`, details);

    // Send to monitoring service
    this.sendToMonitoring(error);
  }

  sendToMonitoring(error) {
    // Example integration with monitoring service
    fetch("/api/errors", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(error),
    }).catch((err) =>
      console.error("Failed to send error to monitoring:", err),
    );
  }

  getErrorSummary() {
    return {
      totalErrors: this.errors.length,
      recentErrors: this.errors.slice(-10),
      errorTypes: this.errors.reduce((acc, error) => {
        acc[error.type] = (acc[error.type] || 0) + 1;
        return acc;
      }, {}),
    };
  }
}

// Initialize error tracking
const errorTracker = new SwaggerUIErrorTracker();

// Enhanced Swagger UI configuration with error tracking
const ui = SwaggerUIBundle({
  url: "openapi.json",
  dom_id: "#swagger-ui",

  onComplete: (system) => {
    console.log("Swagger UI loaded successfully");
    errorTracker.logError("Info", "Swagger UI initialization completed");
  },

  onFailure: (error) => {
    errorTracker.logError("Swagger UI Failure", error);
  },

  requestInterceptor: (request) => {
    console.log("Outgoing request:", request.url);
    return request;
  },

  responseInterceptor: (response) => {
    if (!response.ok) {
      errorTracker.logError("API Request Failed", {
        url: response.url,
        status: response.status,
        statusText: response.statusText,
      });
    }
    return response;
  },
});
```

<BackToTop />

## Migration and Updates

### Upgrading from Swagger UI 2.x to 3.x

#### Key Changes and Migration Steps

```javascript
// Swagger UI 2.x configuration (deprecated)
window.swaggerUi = new SwaggerUi({
  url: "swagger.json",
  dom_id: "swagger-ui-container",
  supportedSubmitMethods: ["get", "post", "put", "delete"],
  onComplete: function (swaggerApi, swaggerUi) {
    console.log("Loaded SwaggerUI");
  },
  onFailure: function (data) {
    console.log("Unable to Load SwaggerUI");
  },
});

// Swagger UI 3.x configuration (current)
const ui = SwaggerUIBundle({
  url: "openapi.json", // Note: OpenAPI 3.0 specification
  dom_id: "#swagger-ui-container", // Note: CSS selector syntax
  presets: [SwaggerUIBundle.presets.apis, SwaggerUIStandalonePreset],
  layout: "StandaloneLayout",
  onComplete: (system) => {
    console.log("Loaded SwaggerUI", system);
  },
  onFailure: (error) => {
    console.log("Unable to Load SwaggerUI", error);
  },
});
```

##### Specification Migration

```yaml
## Swagger 2.0 (deprecated)
swagger: "2.0"
info:
  version: "1.0.0"
  title: "Example API"
host: "api.example.com"
basePath: "/v1"
schemes:
  - "https"
produces:
  - "application/json"
consumes:
  - "application/json"

paths:
  /users:
    get:
      produces:
        - "application/json"
      responses:
        200:
          description: "Successful response"
          schema:
            type: "array"
            items:
              $ref: "#/definitions/User"

definitions:
  User:
    type: "object"
    properties:
      id:
        type: "integer"
      name:
        type: "string"

---
## OpenAPI 3.0 (current)
openapi: 3.0.3
info:
  version: "1.0.0"
  title: "Example API"
servers:
  - url: "https://api.example.com/v1"

paths:
  /users:
    get:
      responses:
        "200":
          description: "Successful response"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/User"

components:
  schemas:
    User:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
```

<BackToTop />

### Version Management

#### Automated Migration Script

```javascript
// migration-helper.js
const fs = require("fs");
const yaml = require("js-yaml");

class SwaggerMigrator {
  constructor(specPath) {
    this.specPath = specPath;
    this.spec = this.loadSpec();
  }

  loadSpec() {
    const content = fs.readFileSync(this.specPath, "utf8");
    return yaml.load(content);
  }

  migrateToOpenAPI3() {
    if (this.spec.openapi) {
      console.log("Already OpenAPI 3.x specification");
      return this.spec;
    }

    const openApiSpec = {
      openapi: "3.0.3",
      info: this.spec.info,
      servers: this.convertServers(),
      paths: this.convertPaths(),
      components: {
        schemas: this.spec.definitions || {},
        securitySchemes: this.convertSecurityDefinitions(),
      },
    };

    return openApiSpec;
  }

  convertServers() {
    const servers = [];

    if (this.spec.host) {
      const schemes = this.spec.schemes || ["https"];
      const basePath = this.spec.basePath || "";

      schemes.forEach((scheme) => {
        servers.push({
          url: `${scheme}://${this.spec.host}${basePath}`,
        });
      });
    }

    return servers;
  }

  convertPaths() {
    const paths = JSON.parse(JSON.stringify(this.spec.paths));

    Object.keys(paths).forEach((pathKey) => {
      Object.keys(paths[pathKey]).forEach((method) => {
        const operation = paths[pathKey][method];

        // Convert produces/consumes to content
        if (operation.produces || operation.consumes) {
          this.convertMediaTypes(operation);
        }

        // Convert parameters
        if (operation.parameters) {
          operation.parameters = operation.parameters.map((param) => {
            if (param.in === "body") {
              return this.convertBodyParameter(param);
            }
            return param;
          });
        }
      });
    });

    return paths;
  }

  convertMediaTypes(operation) {
    if (operation.responses) {
      Object.keys(operation.responses).forEach((statusCode) => {
        const response = operation.responses[statusCode];

        if (response.schema && operation.produces) {
          response.content = {};
          operation.produces.forEach((mediaType) => {
            response.content[mediaType] = {
              schema: response.schema,
            };
          });
          delete response.schema;
        }
      });
    }

    delete operation.produces;
    delete operation.consumes;
  }

  convertBodyParameter(param) {
    // Body parameters become requestBody in OpenAPI 3.0
    return {
      name: param.name,
      in: "requestBody",
      required: param.required,
      content: {
        "application/json": {
          schema: param.schema,
        },
      },
    };
  }

  convertSecurityDefinitions() {
    if (!this.spec.securityDefinitions) return {};

    const securitySchemes = {};

    Object.keys(this.spec.securityDefinitions).forEach((key) => {
      const def = this.spec.securityDefinitions[key];

      if (def.type === "oauth2") {
        securitySchemes[key] = {
          type: "oauth2",
          flows: this.convertOAuthFlows(def),
        };
      } else {
        securitySchemes[key] = def;
      }
    });

    return securitySchemes;
  }

  convertOAuthFlows(def) {
    const flows = {};

    if (def.flow === "implicit") {
      flows.implicit = {
        authorizationUrl: def.authorizationUrl,
        scopes: def.scopes,
      };
    } else if (def.flow === "password") {
      flows.password = {
        tokenUrl: def.tokenUrl,
        scopes: def.scopes,
      };
    } else if (def.flow === "application") {
      flows.clientCredentials = {
        tokenUrl: def.tokenUrl,
        scopes: def.scopes,
      };
    } else if (def.flow === "accessCode") {
      flows.authorizationCode = {
        authorizationUrl: def.authorizationUrl,
        tokenUrl: def.tokenUrl,
        scopes: def.scopes,
      };
    }

    return flows;
  }

  saveSpec(outputPath) {
    const migratedSpec = this.migrateToOpenAPI3();
    const yamlContent = yaml.dump(migratedSpec, { indent: 2 });
    fs.writeFileSync(outputPath, yamlContent);
    console.log(`Migrated specification saved to ${outputPath}`);
  }
}

// Usage
const migrator = new SwaggerMigrator("swagger.yaml");
migrator.saveSpec("openapi.yaml");
```

<BackToTop />

## Advanced Real-World Examples

### Multi-Environment API Documentation

```javascript
// Environment-aware Swagger UI setup
class EnvironmentAwareSwaggerUI {
  constructor() {
    this.environments = {
      development: {
        url: "http://localhost:3000/api/openapi.json",
        name: "Development",
        description: "Local development environment",
      },
      staging: {
        url: "https://staging-api.example.com/openapi.json",
        name: "Staging",
        description: "Staging environment for testing",
      },
      production: {
        url: "https://api.example.com/openapi.json",
        name: "Production",
        description: "Live production environment",
      },
    };

    this.currentEnvironment = this.detectEnvironment();
    this.initUI();
  }

  detectEnvironment() {
    const hostname = window.location.hostname;

    if (hostname === "localhost" || hostname === "127.0.0.1") {
      return "development";
    } else if (hostname.includes("staging")) {
      return "staging";
    } else {
      return "production";
    }
  }

  createEnvironmentSelector() {
    const selector = document.createElement("div");
    selector.className = "environment-selector";
    selector.innerHTML = `
      <div style="
        padding: 10px; 
        background: #f8f9fa; 
        border-bottom: 1px solid #dee2e6;
        font-family: sans-serif;
      ">
        <label for="env-select" style="margin-right: 10px;">Environment:</label>
        <select id="env-select" style="padding: 5px; border-radius: 4px;">
          ${Object.entries(this.environments)
            .map(
              ([key, env]) =>
                `<option value="${key}" ${key === this.currentEnvironment ? "selected" : ""}>
              ${env.name} - ${env.description}
            </option>`,
            )
            .join("")}
        </select>
        <button id="refresh-docs" style="
          margin-left: 10px; 
          padding: 5px 10px; 
          background: #007bff; 
          color: white; 
          border: none; 
          border-radius: 4px;
          cursor: pointer;
        ">Refresh</button>
      </div>
    `;

    // Add event listeners
    const select = selector.querySelector("#env-select");
    const refreshBtn = selector.querySelector("#refresh-docs");

    select.addEventListener("change", (e) => {
      this.currentEnvironment = e.target.value;
      this.refreshUI();
    });

    refreshBtn.addEventListener("click", () => {
      this.refreshUI();
    });

    return selector;
  }

  initUI() {
    const container = document.getElementById("swagger-ui");

    // Add environment selector
    const selector = this.createEnvironmentSelector();
    container.parentNode.insertBefore(selector, container);

    // Initialize Swagger UI
    this.refreshUI();
  }

  refreshUI() {
    const env = this.environments[this.currentEnvironment];

    SwaggerUIBundle({
      url: env.url,
      dom_id: "#swagger-ui",
      deepLinking: true,
      presets: [SwaggerUIBundle.presets.apis, SwaggerUIStandalonePreset],
      layout: "StandaloneLayout",

      // Environment-specific configuration
      requestInterceptor: (request) => {
        // Add environment-specific headers
        request.headers["X-Environment"] = this.currentEnvironment;

        // Add authentication for non-development environments
        if (this.currentEnvironment !== "development") {
          const token = this.getEnvironmentToken();
          if (token) {
            request.headers["Authorization"] = `Bearer ${token}`;
          }
        }

        return request;
      },

      // Custom styling based on environment
      customCss: this.getEnvironmentCSS(),

      onComplete: (system) => {
        console.log(`Swagger UI loaded for ${env.name} environment`);
        this.updateEnvironmentIndicator();
      },
    });
  }

  getEnvironmentToken() {
    return localStorage.getItem(`api_token_${this.currentEnvironment}`);
  }

  getEnvironmentCSS() {
    const colors = {
      development: "#28a745",
      staging: "#ffc107",
      production: "#dc3545",
    };

    const color = colors[this.currentEnvironment];

    return `
      .swagger-ui .info .title:after {
        content: " (${this.currentEnvironment.toUpperCase()})";
        color: ${color};
        font-weight: bold;
      }
      .environment-selector {
        border-left: 4px solid ${color};
      }
    `;
  }

  updateEnvironmentIndicator() {
    // Update page title to include environment
    const env = this.environments[this.currentEnvironment];
    document.title = `API Documentation - ${env.name}`;
  }
}

// Initialize
new EnvironmentAwareSwaggerUI();
```

<BackToTop />
