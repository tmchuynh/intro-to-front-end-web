import BackToTop from "@/components/BackToTop";
import { FaChevronRight } from "react-icons/fa";

# Layout and Pages: Building Your First Project

## Table of Contents

## Introduction: Your Journey to Building Your First Web Application

Welcome to one of the most exciting moments in your web development journey - building your first real project! This chapter will guide you through creating a portfolio website using Next.js, a powerful React framework that will help you build modern, professional web applications.

### What You'll Learn

By the end of this section, you'll understand:
- How to structure a modern web application
- The concept of layouts and how they create consistency across your site
- How to build reusable components that make your code more maintainable
- Best practices for organizing your project files
- How to implement common website features like navigation, theming, and user interaction

### Why Start with a Portfolio Website?

A portfolio website is the perfect first project because it:
- **Showcases your skills** - Demonstrates your ability to build a complete application
- **Provides practical value** - You'll actually use this to show potential employers your work
- **Covers essential concepts** - Navigation, responsive design, component architecture, and state management
- **Grows with you** - You can continuously add new projects and features as you learn

### Project Overview

We're building a modern portfolio website with these features:
- **Responsive design** that looks great on all devices
- **Dark/light theme toggle** for user preference
- **Smooth navigation** with a professional header and footer
- **Back to top functionality** for better user experience
- **Modular component architecture** for easy maintenance and updates

## Understanding the Foundation: Layouts and Components

Before we dive into coding, let's understand the building blocks of modern web applications.

### What is a Layout?

Think of a layout as the "template" or "frame" for your website. Just like a house has a consistent structure (foundation, walls, roof), your website needs consistent elements that appear on every page:

- **Header/Navigation** - Helps users navigate between pages
- **Footer** - Contains copyright info, social links, and additional navigation
- **Main content area** - Where the unique content of each page lives
- **Theme providers** - Manage global styling and preferences


The `layout.tsx` file is used to define the global layout for the application. It includes the `Header`, `Footer`, and `BackToTop` components, as well as the `Providers` component to wrap the application in necessary context providers.

Layouts in Next.js allow you to define a common structure for your pages, such as headers, footers, and sidebars. This helps maintain a consistent look and feel across your application. You can create a layout by defining a React component that wraps your page content.

```javascript
import React from "react";
import Header from "@/components/Header";
import Footer from "@/components/Footer";
import Providers from "@/components/Providers";
import BackToTop from "@/components/BackToTop";

export default function Layout({ children }) {
  return (
    <Providers>
      <Header />
      <main className="main-content">{children}</main>
      <Footer />
      <BackToTop />
    </Providers>
  );
}
```

##### Breaking Down This Code

- `import` statements: We're bringing in all the components we need
- `export default function Layout({ children })`: This creates a function component that receives `children` as a prop
- `children`: This is a special prop that represents the content of each individual page
- The components are arranged in order: Providers wrap everything, then Header, main content, Footer, and BackToTop

This layout component can be used in your pages to provide a consistent structure. You can also pass props to the layout component to customize its behavior or appearance.

In this example, the `Layout` component includes a `Header`, `Footer`, and `BackToTop` component, which will be rendered alongside the page content. The `children` prop represents the content of the page that will be displayed within the layout.

You can also create nested layouts by defining multiple layout components and using them in different parts of your application. This allows for more complex structures, such as having a different layout for admin pages compared to public pages.


#### Using Layouts Within Routes

To use layouts with pages in Next.js, you can wrap your page components with the layout component. This allows you to apply the layout structure to multiple pages without duplicating code.

Remember, when doing this, the global layout in `src/app/layout.tsx` will be applied to all pages in the application. This means that any layout defined in a specific route (like `src/app/portfolio-website/getting-set-up/layout.tsx`) will be nested within the global layout.

The file structure would look like this:

```plaintext
src/app/
  portfolio-website/
    getting-set-up/
      layout.tsx          # Layout specific to getting-set-up section
      page.tsx            # Content for /portfolio-website/getting-set-up
    home-page/
      layout.tsx          # Layout for home page section
      page.tsx            # Content for /portfolio-website/home-page
    utility-functions/
      layout.tsx          # Layout for utility functions section
      page.tsx            # Content for /portfolio-website/utility-functions
    providers/
      layout.tsx          # Layout for providers section
      page.tsx            # Content for /portfolio-website/providers
  layout.tsx              # Global layout for entire application
  page.tsx                # Homepage content
```

Here, each folder contains a `layout.tsx` file that defines the layout for that section of the application. The `page.tsx` files contain the content for each page.

##### Understanding Nested Layouts

When you have nested layouts, they work like Russian dolls - one inside the other:
```plaintext
Global layout (outermost)
  Section-specific layout
    Page content (innermost)
```

**CAUTION**

<blockquote>
When using layouts, ensure that you do not create circular dependencies between layouts and pages. This can lead to unexpected behavior and errors in your application.

Also make sure you do not have conflicting styles or components that might interfere with the layout structure. Always test your layouts across different pages to ensure consistency.
</blockquote>

<BackToTop />

### What are Components?

Components are reusable pieces of your website. Instead of writing the same code multiple times, you create a component once and use it everywhere. It's like having a blueprint for a door that you can use throughout your house.

For example, if you have a button that appears on multiple pages, you create a `Button` component and reuse it rather than writing button code over and over.


#### Understanding the Component Hierarchy

When you visit a page on your website, here's what happens:

1. **Providers** wrap everything and provide global context (like theme settings)
2. **Header** renders at the top with navigation
3. **Main content** displays the specific content for that page
4. **Footer** appears at the bottom with additional links and info
5. **BackToTop** floats as a button when you scroll down


### How Do You Make Pages?

Pages in Next.js are defined as React components that export a default function. Each page corresponds to a route in your application, and the file structure determines the routing.

##### Understanding Next.js Routing

Next.js uses "file-based routing," which means:
- The folder structure directly maps to your website's URLs
- Each `page.tsx` file becomes a route that users can visit
- Folders without `page.tsx` files don't create accessible routes

##### Examples
- `src/app/portfolio-website/getting-set-up/page.tsx` <FaChevronRight className="inline h-3" /> `/portfolio-website/getting-set-up`
- `src/app/about/page.tsx` <FaChevronRight className="inline h-3" /> `/about`
- `src/app/contact/page.tsx` <FaChevronRight className="inline h-3" /> `/contact`

If there is a folder in `src/app/` called `about/` but no `page.tsx` file, the route `/about` will not be accessible. Instead, you would need to create a `page.tsx` file in the `about/` folder to define the content for that route.

## Building Your First Components: Step-by-Step Guide

Now let's build each component from scratch. We'll start with the global layout and work our way through each piece.

## Creating the global `layout.tsx` file

To create the global `layout.tsx` file, you need to define a React component that will serve as the layout for your entire application. This file should be placed in the `src/app/` directory.

```javascript
import React from "react";
import Header from "@/components/Header";
import Footer from "@/components/Footer";
import Providers from "@/components/Providers";
import BackToTop from "@/components/BackToTop";

export default function Layout({ children }) {
  return (
    <Providers>
      <Header />
      <main className="main-content">{children}</main>
      <Footer />
      <BackToTop />
    </Providers>
  );
}
```

Oh...wait...that means you need the `Header`, `Footer`, `Providers`, and `BackToTop` components to be created first. Let's do that now.

##### Development Strategy: Bottom-Up Approach

When building applications, it's often helpful to build from the smallest pieces up to the larger structures. We'll create each component individually, then combine them into our layout.

**NOTE**

> Every component, page, and layout in the project is entirely customizable. You can modify the styles, structure, and content to fit your specific needs. The provided code is a starting point to help you get set up.

<BackToTop />

### Creating the `Header` Component

The `Header` component is typically used to display the navigation menu and branding for your application. This will be stored in `src/components/Header.tsx`.

##### What Makes a Good Header
- Clear navigation to important pages
- Consistent branding (logo or site name)
- Responsive design that works on mobile
- Additional features like theme toggles or search

```javascript
import { MagnifyingGlassIcon } from "@heroicons/react/20/solid";
import { Bars3Icon, BellIcon, XMarkIcon } from "@heroicons/react/24/outline";
import ToggleButton from "@/components/ToggleButton";

export default function Header() {
  return (
    <nav
      as="nav"
      className="bg-background border-b border-2 border-border shadow-sm"
    >
      <div className="mx-auto px-2 sm:px-4 lg:px-8">
        <div className="flex h-16 justify-between">
          <div className="flex px-2 lg:px-0">
            <div className="hidden lg:ml-6 lg:flex lg:space-x-8">
              <a
                href="#"
                className="inline-flex items-center border-b-2 border-accent px-1 pt-1 text-sm font-medium "
              >
                Home
              </a>
              <a
                href="#"
                className="inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-foreground/90 hover:border-secondary hover:text-muted"
              >
                Projects
              </a>
              <a
                href="#"
                className="inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-foreground/90 hover:border-secondary hover:text-muted"
              >
                Resume
              </a>
            </div>
          </div>
          <ToggleButton />
        </div>
      </div>
    </nav>
  );
}
```

##### Understanding This Component

- **Navigation structure**: Uses semantic HTML (`<nav>`) for accessibility
- **Responsive design**: Different styles for mobile vs desktop (`hidden lg:flex`)
- **Flexbox layout**: Uses CSS flexbox for positioning (`flex justify-between`)
- **Styling system**: Uses Tailwind CSS classes for consistent design
- **Interactive elements**: Hover effects and focus states for better UX

#### Creating the `ToggleButton` Component

The `ToggleButton` component is used to toggle the theme of your application. This will be stored in `src/components/ToggleButton.tsx`. This component uses the `next-themes` package to manage the theme state.

##### Why Theme Switching Matters
- Improves accessibility for users with visual sensitivities
- Provides personal preference options
- Reduces eye strain in different lighting conditions
- Shows attention to user experience details

```javascript
"use client";
import { useTheme } from "next-themes";
import { SunIcon, MoonIcon } from "@heroicons/react/24/outline";

export default function ToggleButton() {
  const { theme, setTheme } = useTheme();
  
  return (
    <button
      onClick={() => setTheme(theme === "dark" ? "light" : "dark")}
      className="p-2 rounded-md text-muted hover:text-secondary"
      aria-label={`Switch to ${theme === "dark" ? "light" : "dark"} theme`}
    >
      {theme === "dark" ? (
        <SunIcon className="h-6 w-6" />
      ) : (
        <MoonIcon className="h-6 w-6" />
      )}
    </button>
  );
}
```

##### Key Concepts

- **"use client"**: This directive tells Next.js this component uses browser-only features
- **State management**: Uses React hooks to track and update theme state
- **Conditional rendering**: Shows different icons based on current theme
- **Accessibility**: Includes `aria-label` for screen readers
- **User feedback**: Hover states provide visual feedback

<BackToTop />

### Creating the `Footer` Component

The `Footer` component is typically used to display copyright information, links to social media, and other relevant information at the bottom of your application. This will be stored in `src/components/Footer.tsx`.

##### Footer Best Practices
- Keep it simple and not too cluttered
- Include essential links and contact information
- Add copyright information
- Consider SEO-friendly internal links
- Make it responsive for mobile devices

```javascript
export default function Footer() {
  return (
    <footer className="bg-background border-t border-2 border-border shadow-sm">
      <div className="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
        <div className="flex items-center justify-between">
          <p className="text-sm text-muted">
            &copy; {new Date().getFullYear()} Your Name. All rights reserved.
          </p>
          <div className="flex space-x-4">
            <a 
              href="#" 
              className="text-muted hover:text-secondary"
              aria-label="Visit our Facebook page"
            >
              Facebook
            </a>
            <a 
              href="#" 
              className="text-muted hover:text-secondary"
              aria-label="Follow us on Twitter"
            >
              Twitter
            </a>
            <a 
              href="#" 
              className="text-muted hover:text-secondary"
              aria-label="Connect with us on LinkedIn"
            >
              LinkedIn
            </a>
          </div>
        </div>
      </div>
    </footer>
  );
}
```

##### Understanding Dynamic Copyright
- `new Date().getFullYear()` automatically updates the year
- No need to manually change copyright dates
- Always shows current year

### Creating the `Providers` Component

The `Providers` component is used to wrap your application in necessary context providers, such as theme providers, state management providers, or any other context that your application needs. This will be stored in `src/providers/ThemeProvider.tsx`.

**Understanding React Context:**
Context in React allows you to share data across your entire application without passing props down through every component. Think of it like a broadcast system - you set up the broadcaster (Provider) at the top level, and any component can tune in to receive the information.

```javascript
"use client";
import React from "react";
import { ThemeProvider } from "next-themes";

export default function Providers({ children }) {
  return (
    <ThemeProvider 
      attribute="class" 
      defaultTheme="system" 
      enableSystem
      disableTransitionOnChange={false}
    >
      {children}
    </ThemeProvider>
  );
}
```

##### Provider Configuration Explained
- **attribute="class"**: Applies theme by adding CSS classes to HTML elements
- **defaultTheme="system"**: Respects user's operating system theme preference
- **enableSystem**: Allows automatic theme switching based on system settings
- **disableTransitionOnChange**: Enables smooth transitions when switching themes

<BackToTop />

### Creating the `BackToTop` Component

The `BackToTop` component is used to provide a button that allows users to quickly scroll back to the top of the page. This will be stored in `src/components/BackToTop.tsx`.

##### Why Back to Top Buttons Matter
- Improves user experience on long pages
- Reduces scrolling fatigue
- Provides quick navigation
- Shows attention to usability details

```javascript
"use client";
import { useState, useEffect } from "react";
import { ArrowUpIcon } from "@heroicons/react/24/outline";

export default function BackToTop() {
  const [isVisible, setIsVisible] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      // Show button when user scrolls down 300px
      setIsVisible(window.scrollY > 300);
    };

    // Add event listener when component mounts
    window.addEventListener("scroll", handleScroll);
    
    // Clean up event listener when component unmounts
    return () => window.removeEventListener("scroll", handleScroll);
  }, []); // Empty dependency array means this runs once on mount

  const scrollToTop = () => {
    window.scrollTo({ 
      top: 0, 
      behavior: "smooth" // Creates smooth scrolling animation
    });
  };

  return (
    isVisible && (
      <button
        onClick={scrollToTop}
        className="fixed bottom-4 right-4 bg-accent text-accent-foreground p-2 rounded-full shadow-lg hover:shadow-xl transition-shadow"
        aria-label="Scroll to top"
      >
        <ArrowUpIcon className="h-6 w-6" />
      </button>
    )
  );
}
```

##### Concepts Explained

- **useState**: Manages whether button is visible
- **useEffect**: Handles side effects (adding/removing event listeners)
- **Event listeners**: Responds to user scrolling
- **Cleanup functions**: Prevents memory leaks by removing listeners
- **Conditional rendering**: Only shows button when needed
- **Smooth scrolling**: Provides better user experience than instant jumps

## Putting It All Together: Assembly and Testing

Now that you have created all the individual components, let's understand how they work together:

### Component Interaction Flow

1. **User visits your site** <FaChevronRight className="inline h-3" /> Global layout loads
2. **Providers initialize** <FaChevronRight className="inline h-3" /> Theme system becomes available
3. **Header renders** <FaChevronRight className="inline h-3" /> Navigation becomes interactive
4. **Page content loads** <FaChevronRight className="inline h-3" /> Specific page content appears
5. **Footer appears** <FaChevronRight className="inline h-3" /> Additional navigation and info display
6. **BackToTop monitors** <FaChevronRight className="inline h-3" /> Waits for user to scroll

### Testing Your Components

As you build each component, test them individually:

1. **Header**: Check navigation links, theme toggle functionality
2. **Footer**: Verify links work and copyright displays correctly
3. **BackToTop**: Scroll down to test visibility and smooth scrolling
4. **Overall layout**: Navigate between pages to ensure consistency

## Next Steps: Expanding Your Project

Now that you have created the global `layout.tsx` file and the necessary components, you can start building out your pages. Each page can use the global layout by simply exporting a default function that returns the content of the page.

### What You've Accomplished

Congratulations! You've just built the foundation of a modern web application. You now understand:

- **Component architecture** and how to build reusable pieces
- **Layout systems** and how to maintain consistency
- **State management** with React hooks and context
- **User interaction** and event handling
- **Accessibility** and user experience best practices

### Your Next Development Tasks

1. **Create your first page** with actual content
2. **Add routing** between different sections
3. **Implement responsive design** for mobile devices
4. **Add your project showcase** areas
5. **Customize the styling** to match your personal brand

You can create a new page by creating a new file in the `src/app/portfolio-website/` directory, such as `about/page.tsx`, and exporting a default function that returns the content for that page. Let's go do that! Navigate to the [Routing Folder, and Files](portfolio-website/getting-set-up/routing-folders-and-files) section to continue building out your portfolio website.

### Remember: This is Just the Beginning

This portfolio website is your first step into web development. As you continue learning, you'll:
- Add more interactive features
- Integrate with APIs and databases
- Implement advanced animations
- Optimize for performance
- Deploy to production servers

Every professional developer started with their first project. You're now part of that journey!

<BackToTop />
